(this["webpackJsonpmaster-lps"]=this["webpackJsonpmaster-lps"]||[]).push([[12],{717:function(e,t,a){},720:function(e,t,a){var n;e.exports=(n=a(709),function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var a={};return t.m=e,t.c=a,t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=n(a(1)),s=n(a(2));t.default=o.default.plugins.add("grapesjs-blocks-yang-basic",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={flexboxBlock:{},stylePrefix:"",labelRow:"Row",labelColumn:"Column",actionUrl:""},n=r({},t,a);(0,s.default)(e,n)}))},function(e,t){e.exports=n},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.BlockManager,r=(t.blocks,t.stylePrefix),o=r+"rowcenter",s=r+"cellcenter",i=t.labelRow,l=t.labelColumn,c=function(e){var t=[];for(var a in e){var n=e[a],r=n instanceof Array||n instanceof Object;n=r?JSON.stringify(n):n,t.push(a+"="+(r?"'"+n+"'":'"'+n+'"'))}return t.length?" "+t.join(" "):""},d={tl:0,tc:0,tr:0,cl:0,cr:0,bl:0,br:0,minDim:1},p=n({},d,{cr:1,bc:0,keyWidth:"flex-basis",currentUnit:1,minDim:1,step:.2}),u={class:o,"data-gjs-droppable":"."+s,"data-gjs-resizable":d,"data-gjs-custom-name":i},g={class:s,"data-gjs-draggable":"."+o,"data-gjs-resizable":p,"data-gjs-custom-name":l,"data-gjs-unstylable":["width"],"data-gjs-stylable-require":["flex-basis"]},m=["."+o,"."+s];e.on("selector:add",(function(e){return m.indexOf(e.getFullName())>=0&&e.set("private",1)}));var h=c(u),f=c(g),b="\n    ."+o+" {\n      display: flex;\n      justify-content: center;\n      align-items: stretch;\n      flex-wrap: nowrap;\n      padding: 10px;\n    }\n    @media (max-width: 768px) {\n      ."+o+" {\n        flex-wrap: wrap;\n      }\n    }\n    ",v="\n    ."+s+" {\n      min-height: 75px;\n      \n      flex-basis: 100%;\n    }";a.add("basic-460-responsive",n({label:"480px Responsive",category:"Basic",content:"\n <div "+h+">\n    <div "+f+'>\n      <img src="http://masters-lps.com/api/storage/storage/1606411516123_basic.jpg" style="max-width:480px">\n      <div>\n      <h1 style="text-align:center">Simple Text</h1>\n      </div>\n      <form method="POST" action="'+t.actionUrl+'" >\n      <div style="background:#F2CA03;padding:20px;margin:auto;max-width: 350px;margin-top:10px;">\n    <div class="form-group">\n      \n      <input placeholder="Type here your name" name="name" style="width:100%;text-align:center;"/>\n    </div>\n    <div class="form-group">\n      <input type="email" placeholder="Type here your email" name="email" style="width:100%;text-align:center;margin-top:10px;"/>\n    </div>\n    </div>\n    \n      <button type="submit" style="display:block;width:100%;height: 50px;color:#fff;background: #0081B8;max-width: 350px;margin:auto;margin-top:10px;">Send</button>\n    \n    \n  </form>\n    </div>\n    \n  </div>\n  <style>\n    '+b+"\n    "+v+"\n  </style>\n        \n        "},t.flexboxBlock))}}]))},732:function(e,t,a){"use strict";a.r(t);var n=a(180),r=a(67),o=a(68),s=a(70),i=a(69),l=a(1),c=a.n(l),d=a(14),p=a(44),u=(a(698),a(717),a(709)),g=a.n(u),m=(a(718),a(719),a(720),a(721),a(99)),h=a(71),f=a.n(h),b=a(416).default,v=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.pageId&&parseInt(n.pageId)>0?m.a.get("admin/page/pages?id=".concat(n.pageId)).then((function(e){console.log(e.data),n.setState({url:e.data[0].url,page:e.data[0],title:e.data[0].title,description:e.data[0].description,keywords:e.data[0].keywords,html:e.data[0].html},(function(){n.externel_links=[];var t=e.data[0];t&&t.externel_links&&("string"==typeof t.externel_links&&(t.externel_links=JSON.parse(t.externel_links)),n.externel_links=t.externel_links,console.error(n.externel_links)),n.initGrapes(),n.editor.setStyle(e.data[0].css)}))})):n.initGrapes()},n.state={title:"",description:"",keywords:"",html:"",url:"",loading:!1},console.log(e),n.pageId=e.match.params.id,console.log(n.pageId),n}return Object(o.a)(a,[{key:"initGrapes",value:function(){var e=this;this.editor=g.a.init({container:"#gjs",fromElement:!0,showOffsets:1,width:"auto",noticeOnUnload:!1,storageManager:{id:"gjs-",type:"local",autosave:!1,autoload:!1,stepsBeforeSave:0,storeComponents:!0,storeStyles:!1,storeHtml:!1,storeCss:!1},blockManager:{blocks:[]},styleManager:{sectors:[{name:"General",open:!1,buildProps:["float","display","position","top","right","left","bottom"]},{name:"Dimension",open:!1,buildProps:["width","flex-width","height","max-width","min-height","margin","padding"],properties:[{id:"flex-width",type:"integer",name:"Width",units:["px","%"],property:"flex-basis",toRequire:1}]},{name:"Decorations",open:!1,buildProps:["color","border-radius-c","background-color","border-radius","border","box-shadow","background"]},{name:"Typography",open:!1,buildProps:["color"]}]},assetManager:{assets:[],upload:"".concat(b,"storage/upload"),uploadFile:function(t){var a=t.dataTransfer?t.dataTransfer.files:t.target.files,n=new FormData;n.append("file",a[0]),m.a.post("".concat(b,"storage/upload"),n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.editor.AssetManager.add(t.data)})).catch((function(e){console.error(e)}))}},mediaCondition:"min-width",plugins:["gjs-blocks-flexbox","grapesjs-plugin-forms","gjs-preset-webpage"],cssComposer:{},pluginsOpts:{"grapesjs-blocks-yang-basic":{actionUrl:"".concat(b,"contract_record/add-contract-record")},"gjs-blocks-flexbox":{},"rapesjs-blocks-flexbox-center":{},"grapesjs-plugin-forms":{blocks:["input","textarea","select","button","label"],actionUrl:"".concat(b,"contract_record/add-contract-record")},"gjs-preset-webpage2":{},"gjs-preset-webpage":{formsOpts:!1,countdownOpts:!1,navbarOpts:!1,modalImportTitle:"Import Template",modalImportLabel:'<div style="margin-bottom: 10px; font-size: 13px;">Paste here your HTML/CSS and click Import</div>',modalImportContent:function(e){return e.getHtml()+"<style>"+e.getCss()+"</style>"},filestackOpts:null,blocksBasicOpts1:{flexGrid:1},blocksBasicOpts:{blocks:["column1","column2","column3","text","link","image"]}}},canvas:{styles:["https://rawcdn.githack.com/rafaelbotazini/floating-whatsapp/3d18b26d5c7d430a1ab0b664f8ca6b69014aed68/floating-wpp.min.css"]}}),this.editor.DomComponents.addType("input",{isComponent:function(e){return"INPUT"===e.tagName},model:{defaults:{traits:["name","placeholder",{type:"select",label:"Type",name:"type",options:[{id:"text",name:"Text"},{id:"email",name:"Email"},{id:"password",name:"Password"},{id:"number",name:"Number"}]},{type:"checkbox",name:"required"}],attributes:{type:"text",required:!0}}}}),this.editor.BlockManager.add("my-contract-block",{label:'\n            <svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n              <path class="gjs-block-svg-path" d="M22,5.5 C22,5.2 21.5,5 20.75,5 L3.25,5 C2.5,5 2,5.2 2,5.5 L2,8.5 C2,8.8 2.5,9 3.25,9 L20.75,9 C21.5,9 22,8.8 22,8.5 L22,5.5 Z M21,8 L3,8 L3,6 L21,6 L21,8 Z" fill-rule="nonzero"></path>\n              <path class="gjs-block-svg-path" d="M22,10.5 C22,10.2 21.5,10 20.75,10 L3.25,10 C2.5,10 2,10.2 2,10.5 L2,13.5 C2,13.8 2.5,14 3.25,14 L20.75,14 C21.5,14 22,13.8 22,13.5 L22,10.5 Z M21,13 L3,13 L3,11 L21,11 L21,13 Z" fill-rule="nonzero"></path>\n              <rect class="gjs-block-svg-path" x="2" y="15" width="10" height="3" rx="0.5"></rect>\n            </svg>\n            <div class="gjs-block-label">Contract Form</div>',content:'\n            <form method="POST" action="'.concat(b,'contract_record/add-contract-record" >\n            <div style="background:#F2CA03;padding:20px;margin:auto;max-width: 350px;margin-top:10px;">\n          <div class="form-group">\n            \n            <input placeholder="Type here your name" name="name" style="width:100%;text-align:center;"/>\n          </div>\n          <div class="form-group">\n            <input type="email" placeholder="Type here your email" name="email" style="width:100%;text-align:center;margin-top:10px;"/>\n          </div>\n          </div>\n          <div class="form-group">\n            <button type="submit" style="display:block;width:100%;">Send</button>\n          </div>\n          \n        </form>\n            ')}),this.editor.BlockManager.add("my-whatsapp-block",{label:'\n            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="50" viewBox="0 0 24 24"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>\n            <div class="gjs-block-label">Whats app</div>',content:'\n<div style="text-align: center;">\n            <div style="margin:auto;width: auto;display: inline-block;">\n                <a href="tel:073-7958888" style="text-decoration: unset;">\n                    <div\n                        style="display: flex;background: #F2CA03;height: 77px;padding-left: 10px;padding-right:10px;border-radius: 35px;">\n                        <div\n                            style="align-self: center;flex-basis: 50px;margin-right: 10px;width: 50px;height: 50px;background-size: 100%;background-repeat: no-repeat;background-image: url(http://masters-lps.com/api/storage/storage/1606332534603_Untitled-4%20copy.PNG);">\n                        </div>\n                        <div style="align-self: center;color:#000;font-size: 30px;font-family: fantasy;font-weight:bold;">\n                            073-7958888</div>\n                    </div>\n                </a>\n            </div>\n        </div>'}),this.editor.BlockManager.add("image",{label:"Images",attributes:{class:"gjs-fonts gjs-f-image"},content:{style:{color:"black"},type:"image",activeOnRender:1}}),this.editor.BlockManager.add("text",{label:"Text",attributes:{class:"gjs-fonts gjs-f-text"},content:{type:"text",content:"Insert your text here",style:{padding:"10px"},activeOnRender:1}}),this.editor.BlockManager.add("link",{label:"Link",attributes:{class:"fa fa-link"},content:{type:"link",content:"Link",style:{color:"#d983a6"}}}),this.editor.Commands.add("set-device-desktop",{run:function(e){return e.setDevice("Desktop")}}),this.editor.Commands.add("set-device-mobile",{run:function(e){return e.setDevice("Mobile")}}),this.editor.Commands.add("set-device-tablet",{run:function(e){return e.setDevice("Tablet")}}),this.editor.on("asset:upload:response",(function(t){console.log(t),e.editor.AssetManager.add(t)}));var t=this.editor.CssComposer;t.setRule("img",{width:"100%",display:"block",margin:"auto","max-width":"900px"}),t.setRule(".blank-block",{width:"100%","min-height":"100px",display:"block",background:"gray","max-width":"900px"}),m.a.get("storage/storage-list").then((function(t){e.editor.AssetManager.add(t.data)}))}},{key:"valueChange",value:function(e,t){this.setState(Object(n.a)({},t,e.target.value))}},{key:"_save",value:function(){var e=this;this.setState({loading:!0});var t=this.state,a=t.title,n=t.page,r=t.description,o=t.keywords,s=t.url;m.a.post("admin/page/add-page",{id:n?n.id:null,html:this.editor.getHtml(),css:this.editor.getCss(),title:a,description:r,keywords:o,lead_id:this.lead_id,url:s,externel_links:this.externel_links}).then((function(t){console.log(t),e.props.history.push("/")})).catch((function(e){return console.error(e)}))}},{key:"onSave",value:function(){var e=this,t=this.state,a=t.page,n=t.url;null!==this.state.url&&0!==this.state.url.length?m.a.post("admin/page/check-page-url",{id:a?a.id:null,url:n}).then((function(t){if(null==t.data.data)return e._save();f()({title:"Please input other url",icon:"error",buttons:{confirm:{text:"OK",value:!0,visible:!0,className:"",closeModal:!0}}})})):f()({title:"Input page url",icon:"error",buttons:{confirm:{text:"OK",value:!0,visible:!0,className:"",closeModal:!0}}})}},{key:"onTitleChange",value:function(e){this.setState({title:e.target.value})}},{key:"onKeywordsChange",value:function(e){this.setState({keywords:e.target.value})}},{key:"onDescriptionChange",value:function(e){this.setState({description:e.target.value})}},{key:"render",value:function(){var e=this;return c.a.createElement(c.a.Fragment,null,c.a.createElement(d.I,null,c.a.createElement(d.i,null,c.a.createElement(d.h,null,"Add New Page"),c.a.createElement(d.f,null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12 pb-2"},c.a.createElement("input",{type:"text",value:this.state.url,className:"input form-control",placeholder:"Page Url",onChange:function(t){return e.valueChange(t,"url")}})),c.a.createElement("div",{className:"col-3"},c.a.createElement("input",{type:"text",value:this.state.title,className:"input form-control",placeholder:"Title",onChange:function(t){return e.onTitleChange(t)}})),c.a.createElement("div",{className:"col-3"},c.a.createElement("input",{type:"text",value:this.state.keywords,className:"input form-control",placeholder:"Keywords",onChange:function(t){return e.onKeywordsChange(t)}})),c.a.createElement("div",{className:"col-3"},c.a.createElement("input",{type:"text",value:this.state.description,className:"input form-control",placeholder:"Description",onChange:function(t){return e.onDescriptionChange(t)}})),c.a.createElement("div",{className:"col-3 text-right"},c.a.createElement(d.d,{type:"submit",size:"sm",color:"primary",onClick:function(){e.onSave()}},c.a.createElement(p.a,{name:"cil-scrubber"})," Save",this.state.loading&&c.a.createElement("span",{className:"spinner-border spinner-border-sm ml-1",role:"status","aria-hidden":"true"})))),c.a.createElement("div",{id:"gjs",className:"mt-3"},c.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.html}}))))))}}]),a}(l.Component);t.default=v}}]);
//# sourceMappingURL=12.104c72d2.chunk.js.map