{"version":3,"sources":["views/admin/page/Dashboard.js"],"names":["REACT_APP_BASE_URL","require","default","Dashobard","props","componentDidMount","Axios","get","then","r","console","log","setState","list","data","state","window","open","id","this","history","push","page","host","replace","url","item","swal","title","text","icon","buttons","dangerMode","willDelete","delete","filter","JSON","parse","stringify","Date","getTime","post","e","className","name","size","style","lineHeight","length","Component"],"mappings":"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","file":"static/js/14.c322de7c.chunk.js","sourcesContent":["import React, { Component } from 'react'\n\nimport swal from 'sweetalert';\nimport CIcon from '@coreui/icons-react'\n\nimport Axios from '../../../lib/api';\nimport './Dashboard.css'\n\nconst REACT_APP_BASE_URL = require('../../../lib/env').default;\n\nclass Dashobard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: []\n    }\n  }\n  componentDidMount = () => {\n    Axios.get('admin/page/pages').then(r => {\n      console.log(r)\n      this.setState({ list: r.data })\n    })\n  }\n  onExport() {\n    window.open(`${REACT_APP_BASE_URL}/admin/page/pages-export`, '_blank');\n  }\n  onView(id) {\n    this.props.history.push(`/view/${id}`);\n  }\n  onVisit(page) {\n    var host = REACT_APP_BASE_URL.replace('api/', '');\n    host = host.replace(':3008', '');\n    console.log(host)\n    window.open(`${host}p/${page.url}`, '_blank');\n  }\n  onEdit(id) {\n    this.props.history.push(`/edit/${id}`);\n  }\n  onHtmlEdit(id) {\n    this.props.history.push(`/new-builder/${id}`);\n  }\n  onDelete(item) {\n    swal({\n      title: \"Are you sure?\",\n      text: \"Once deleted, you will not be able to recover this page!\",\n      icon: \"warning\",\n      buttons: true,\n      dangerMode: true,\n    })\n      .then(willDelete => {\n        if (willDelete)\n          Axios.delete(`admin/page/page/${item.id}`).then(r => {\n            console.log(r)\n            var { list } = this.state;\n            list = list.filter(page => page.id !== item.id);\n            this.setState({ list: list })\n          })\n      })\n\n  }\n  onDownload(page) {\n    var host = REACT_APP_BASE_URL.replace('api/', '');\n    host = host.replace(':3008', '');\n    console.log(host)\n    window.open(`${REACT_APP_BASE_URL}/admin/page/download-zip?page_id=${page.id}`, '_blank');\n  }\n  onDuplicate(item) {\n    try {\n      item = JSON.parse(JSON.stringify(item))\n      delete item.id\n      item.url = 'Copy ' + new Date().getTime() + item.url;\n\n      Axios.post('admin/page/add-page', item).then(r => {\n        console.log(r)\n        this.props.history.push(`/edit/${r.data.id}`);\n      })\n    } catch (e) {\n      console.log(e)\n    }\n  }\n  render() {\n    var { list } = this.state;\n    return (\n      <>\n        <h1>Today's Event</h1>\n        <div className=\"row mx-n1 mt-3\">\n          <div className=\"col-3 px-1\">\n            <div className=\"card p-2 px-4\">\n              <div className=\"d-flex align-items-center\">\n                <div className=\"mr-2\">\n                  <CIcon name=\"cil-home\" size=\"3xl\" />\n                </div>\n                <div className=\"\">\n                  <div style={{ 'fontSize': '32px', lineHeight: '35px' }}>{list.length}</div>\n                  <div>Number of Active pages</div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"col-3 px-1\">\n            <div className=\"card p-2 px-4\">\n              <div className=\"d-flex align-items-center\">\n                <div className=\"mr-2\">\n                  <CIcon name=\"cil-pencil\" size=\"3xl\" />\n                </div>\n                <div className=\"\">\n                  <div style={{ 'fontSize': '32px', lineHeight: '35px' }}>10</div>\n                  <div>Pages Live</div>\n                </div>\n              </div>\n            </div></div>\n          <div className=\"col-3 px-1\">\n            <div className=\"card p-2 px-4\">\n              <div className=\"d-flex align-items-center\">\n                <div className=\"mr-2\">\n                  <CIcon name=\"cil-user\" size=\"3xl\" />\n                </div>\n                <div className=\"\">\n                  <div style={{ 'fontSize': '32px', lineHeight: '35px' }}>10</div>\n                  <div>New Leads</div>\n                </div>\n              </div>\n            </div></div>\n          <div className=\"col-3 px-1\">\n            <div className=\"card p-2 px-4\">\n              <div className=\"d-flex align-items-center\">\n                <div className=\"mr-2\">\n                  <CIcon name=\"cilSettings\" size=\"3xl\" />\n                </div>\n                <div className=\"\">\n                  <div style={{ 'fontSize': '32px', lineHeight: '35px' }}>1</div>\n                  <div>Active Admins</div>\n                </div>\n              </div>\n            </div></div>\n        </div>\n        <div className=\"row mx-n1\">\n          <div className=\"col-4 px-1\">\n            <div className=\"card\" style={{ 'height': '610px' }}></div>\n          </div>\n          <div className=\"col-8 px-1\">\n            <div className=\"row mx-n1\">\n              <div className=\"col-4 px-1\">\n                <div className=\"card\" style={{ 'height': '300px' }}></div>\n                <div className=\"card\" style={{ 'height': '300px' }}></div>\n              </div>\n              <div className=\"col-8 px-1\">\n                <div className=\"card\" style={{ 'height': '250px' }}></div>\n                <div className=\"card\" style={{ 'height': '250px' }}></div>\n              </div>\n            </div>\n\n          </div>\n        </div>\n      </>\n    )\n  }\n}\n\nexport default Dashobard\n"],"sourceRoot":""}