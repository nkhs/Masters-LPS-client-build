{"version":3,"sources":["views/admin/page/View.js"],"names":["REACT_APP_BASE_URL","require","default","View","props","componentDidMount","Axios","get","pageId","then","r","setState","page","data","host","replace","title","console","log","html","state","match","params","_id","this","history","goBack","e","target","value","type","size","color","onClick","onBack","name","dangerouslySetInnerHTML","__html","Component"],"mappings":"iPAyBMA,EAAqBC,EAAQ,KAAoBC,QAEjDC,E,kDACF,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IAMVC,kBAAoB,WAChBC,IAAMC,IAAN,8BAAiC,EAAKC,SAAUC,MAAK,SAAAC,GAEjD,EAAKC,SAAS,CAAEC,KAAMF,EAAEG,KAAK,KAE7B,IAAIC,EAAOd,EAAmBe,QAAQ,OAAQ,IAC9CT,IAAMC,IAAN,UAAaO,EAAb,aAAsBJ,EAAEG,KAAK,GAAGG,QAASP,MAAK,SAAAC,GAC1CO,QAAQC,IAAIR,EAAEG,MACd,EAAKF,SAAS,CAAEQ,KAAMT,EAAEG,cAZhC,EAAKO,MAAQ,CAAED,KAAM,IACrB,EAAKX,OAASJ,EAAMiB,MAAMC,OAAOC,IACjCN,QAAQC,IAAI,EAAKV,QALF,E,qDAqBfgB,KAAKpB,MAAMqB,QAAQC,W,oCAETC,GACVH,KAAKb,SAAS,CAAEK,MAAO,SAAAW,GAAC,OAAIA,EAAEC,OAAOC,W,+BAE/B,IAAD,SACgBL,KAAKJ,MAApBR,EADD,EACCA,KAAMO,EADP,EACOA,KACZ,OACI,oCACI,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,kBAIA,kBAAC,IAAD,KACKP,EAAO,4BAAKA,EAAKI,OAAc,KAChC,kBAAC,IAAD,CAASc,KAAK,SAASC,KAAK,KAAKC,MAAM,UAAUC,QAAS,WAAQ,EAAKC,WAAY,kBAAC,IAAD,CAAOC,KAAK,iBAA/F,SACA,6BAECvB,EAAO,yBAAKwB,wBAAyB,CAAEC,OAAQlB,KAAiB,c,GA3C9EmB,aAuDJnC","file":"static/js/16.923c7076.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport {\r\n    // CBadge,\r\n    CButton,\r\n    // CButtonGroup,\r\n    CCard,\r\n    CCardBody,\r\n    // CCardFooter,\r\n    CCardHeader,\r\n    CCol,\r\n    // CProgress,\r\n    CRow,\r\n    // CCallout\r\n} from '@coreui/react'\r\n\r\nimport CIcon from '@coreui/icons-react'\r\nimport \"grapesjs/src/styles/scss/main.scss\";\r\nimport 'grapesjs/dist/css/grapes.min.css';\r\n\r\nimport './New.css'\r\n\r\n// import grapesjs from 'grapesjs';\r\n// import { Editor } from 'grapesjs-react';\r\n\r\nimport Axios from '../../../lib/api';\r\nconst REACT_APP_BASE_URL = require('../../../lib/env').default;\r\n\r\nclass View extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = { html: '' }\r\n        this.pageId = props.match.params._id;\r\n        console.log(this.pageId)\r\n    }\r\n    componentDidMount = () => {\r\n        Axios.get(`admin/page/pages?id=${this.pageId}`).then(r => {\r\n            // console.log(r)\r\n            this.setState({ page: r.data[0] })\r\n            \r\n            var host = REACT_APP_BASE_URL.replace('api/', '');\r\n            Axios.get(`${host}p/${r.data[0].title}`).then(r => {\r\n                console.log(r.data)\r\n                this.setState({ html: r.data });\r\n            })\r\n        })\r\n\r\n    }\r\n    onBack() {\r\n        this.props.history.goBack();\r\n    }\r\n    onTitleChange(e) {\r\n        this.setState({ title: e => e.target.value })\r\n    }\r\n    render() {\r\n        var { page, html } = this.state;\r\n        return (\r\n            <>\r\n                <CRow>\r\n                    <CCol>\r\n                        <CCard>\r\n                            <CCardHeader>\r\n                                View Page\r\n\r\n                            </CCardHeader>\r\n                            <CCardBody>\r\n                                {page ? <h1>{page.title}</h1> : null}\r\n                                <CButton type=\"submit\" size=\"sm\" color=\"primary\" onClick={() => { this.onBack() }}><CIcon name=\"cil-scrubber\" /> Back</CButton>\r\n                                <hr />\r\n\r\n                                {page ? <div dangerouslySetInnerHTML={{ __html: html }}></div> : null}\r\n\r\n\r\n                            </CCardBody>\r\n                        </CCard>\r\n                    </CCol>\r\n                </CRow>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default View\r\n"],"sourceRoot":""}