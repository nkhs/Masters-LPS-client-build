{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","views/admin/widgets/WidgetViewCallButton.js"],"names":["module","exports","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","CONFIG","max_wizard","externel_links","WidgetViewCallButton","props","componentDidMount","Axios","get","state","title","r","data","v","options","JSON","parse","op","stringify","isLoading","setState","phone_number","history","location","pathname","split","slice","pop","wizard_step","effect","ref","React","createRef","javascript_ref","css_ref","html","current","innerHTML","js","css","post","console","log","goBack","catch","e","_save","column","target","className","htmlFor","type","placeholder","onChange","valueChange","onClick","disabled","size","color","onSave","name","role","aria-hidden","style","minHeight","paddingTop","width","maxWidth","textAlign","margin","marginTop","href","position","height","top","left","enableBackground","id","version","viewBox","space","xmlns","xlink","fill","d","fillRule","clipRule","display","Component"],"mappings":"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","file":"static/js/17.551714dd.chunk.js","sourcesContent":["module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import React, { Component } from 'react'\r\n\r\n\r\nimport {\r\n    CButton,\r\n\r\n} from '@coreui/react'\r\n\r\nimport CIcon from '@coreui/icons-react'\r\nimport \"grapesjs/src/styles/scss/main.scss\";\r\nimport 'grapesjs/dist/css/grapes.min.css';\r\n\r\nimport Axios from '../../../lib/api';\r\n// import swal from 'sweetalert';\r\n// import './ss.css'\r\n// import $ from 'jquery'\r\n\r\n\r\nvar CONFIG = {\r\n    'whatsapp': {\r\n        max_wizard: 2\r\n    },\r\n    'call-button': {\r\n        max_wizard: 2\r\n    },\r\n    'coming_soon': {\r\n        max_wizard: 8\r\n    },\r\n\r\n}\r\n\r\nvar externel_links = [\r\n\r\n]\r\n\r\nclass WidgetViewCallButton extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            phone_number: '4418642583168',\r\n            title: props.history.location.pathname.split('/').slice(-1).pop(),\r\n\r\n            wizard_step: 2,\r\n            effect: 'pulse',\r\n            isLoading: false,\r\n        }\r\n\r\n        this.ref = React.createRef();\r\n        this.javascript_ref = React.createRef();\r\n        this.css_ref = React.createRef();\r\n\r\n\r\n    }\r\n\r\n    componentDidMount = () => {\r\n\r\n\r\n        Axios.get(`admin/widget/widgets?title=${this.state.title}`).then(r => {\r\n            if (r && r.data && r.data[0]) {\r\n                var v = r.data[0]\r\n                if (typeof v.options === 'string') v.options = JSON.parse(v.options)\r\n                var op = JSON.parse(JSON.stringify(v.options))\r\n                delete v.options;\r\n                delete op.isLoading;\r\n                this.setState({ ...v, ...op, externel_links: externel_links });\r\n            }\r\n        })\r\n    }\r\n\r\n    async _save() {\r\n\r\n        this.setState({ isLoading: true });\r\n\r\n        var html = this.ref.current.innerHTML;\r\n        var js = this.javascript_ref.current.innerHTML;\r\n        var css = this.css_ref.current.innerHTML;\r\n        Axios.post('admin/widget/add-widget', { title: this.state.title, html: html, css: css, js: js, externel_links: externel_links, options: this.state })\r\n            .then(r => {\r\n                console.log(r)\r\n                this.props.history.goBack();\r\n            })\r\n            .catch(e => console.error(e))\r\n    }\r\n\r\n    async onSave() {\r\n        this._save();\r\n    }\r\n\r\n    valueChange(e, column) {\r\n        this.setState({ [column]: e.target.value })\r\n    }\r\n\r\n    render() {\r\n        var { wizard_step } = this.state;\r\n\r\n        return (\r\n            <>\r\n                <div className=\"row\">\r\n                    <div className='col-4 border-right'>\r\n                        <div className=\"d-flex1 wizard\">\r\n                            {this.state.wizard_step === 2 && <>\r\n                                <h4>Call Button</h4>\r\n                                <div className=\"form-group mt-3\">\r\n                                    <label className=\"form-label\" htmlFor=\"exampleRadios2\">Phone Number</label>\r\n                                    <input type=\"text\" value={this.state.phone_number} className=\"form-control\" placeholder=\"phone number\" onChange={(e) => {\r\n                                        this.valueChange(e, 'phone_number');\r\n                                    }} />\r\n                                </div>\r\n\r\n                                <div className=\"form-group mt-31\">\r\n                                    <label className=\"form-label\" htmlFor=\"exampleRadios2\">Effect</label>\r\n                                    <select value={this.state.effect} className=\"form-control\" onChange={(e) => { this.valueChange(e, 'effect'); }}>\r\n                                        <option value=\"pulse\">Pulse</option>\r\n                                        <option value=\"rotate\">Rotate</option>\r\n                                        <option value=\"\">None</option>\r\n                                    </select>\r\n                                </div>\r\n                            </>\r\n                            }\r\n\r\n                            {this.state.wizard_step < CONFIG[this.state.title].max_wizard && <button className=\"btn btn-primary mt-5 float-right\" onClick={() => {\r\n                                this.setState({ wizard_step: wizard_step + 1 })\r\n                            }}\r\n                                disabled={this.state.wizard_step === 2}>Next</button>}\r\n\r\n                            {this.state.wizard_step === CONFIG[this.state.title].max_wizard &&\r\n                                <>\r\n                                    <CButton className=\"mt-5 float-right\" type=\"submit\" size=\"sm\" color=\"primary\" onClick={() => { this.onSave() }}><CIcon name=\"cil-scrubber\" />\r\n                                        Save{this.state.isLoading && <span className=\"spinner-border spinner-border-sm ml-1\" role=\"status\" aria-hidden=\"true\"></span>}\r\n                                    </CButton>\r\n                                </>\r\n                            }\r\n\r\n                        </div>\r\n                    </div>\r\n                    <div className='col-8'>\r\n                        <h4 className=\"text-center\">Live Preview</h4>\r\n                        <div className=\"border pb-5\" ref={this.ref} style={{ minHeight: '300px', paddingTop: '60px' }}>\r\n                            <div className=\"phone-no-images\" style={{ width: '100%', maxWidth: '140px', textAlign: 'center', margin: 'auto', marginTop: '20px' }}>\r\n                                <a href={'tel:' + this.state.phone_number}>\r\n                                    <div style={{ position: 'relative', height: '140px' }} className={this.state.effect}>\r\n                                        <svg style={{ position: 'absolute', top: '0px', left: '0px' }} enableBackground=\"new 0 0 140 140\" height=\"140px\" id=\"Layer_1\" version=\"1.1\" viewBox=\"0 0 40 40\" width=\"140px\" space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xlink=\"http://www.w3.org/1999/xlink\">\r\n                                            <g>\r\n                                                <g>\r\n                                                    <g>\r\n                                                        <g>\r\n                                                            <path fill=\"#4DCC00\" d=\"M20,2c9.925,0,18,8.075,18,18s-8.075,18-18,18c-9.925,0-18-8.075-18-18S10.075,2,20,2 M20,0 C8.955,0,0,8.954,0,20c0,11.047,8.955,20,20,20c11.047,0,20-8.953,20-20C40,8.954,31.047,0,20,0L20,0z\" />\r\n                                                        </g>\r\n                                                    </g>\r\n                                                </g>\r\n                                                <path fill=\"#4DCC00\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M14.371,9.793c1.207-0.228,1.998,1.133,2.6,2.072   c0.586,0.912,1.307,1.982,1.016,3.169c-0.162,0.666-0.764,1.029-1.219,1.422c-0.449,0.388-1.133,0.744-1.299,1.34   c-0.271,0.967,0.322,1.982,0.689,2.56c0.834,1.306,1.842,2.483,3.129,3.534c0.623,0.51,1.488,1.191,2.355,1.016   c1.295-0.262,1.637-1.859,3.047-2.072c1.342-0.203,2.25,0.77,3.008,1.422c0.73,0.631,1.908,1.439,1.828,2.52   c-0.047,0.621-0.545,1.006-0.977,1.381c-0.439,0.383-0.824,0.813-1.258,1.096c-1.051,0.686-2.34,1.022-3.82,0.976   c-1.451-0.045-2.607-0.538-3.656-1.097c-2.051-1.094-3.672-2.633-5.199-4.348c-1.502-1.686-2.889-3.682-3.656-5.889   c-0.957-2.756-0.451-5.587,1.098-7.353c0.262-0.3,0.676-0.613,1.055-0.935C13.49,10.284,13.84,9.893,14.371,9.793z\" />\r\n                                            </g>\r\n                                        </svg>\r\n                                        <div className={'element '}></div>\r\n                                    </div>\r\n                                </a>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                        {/* Used for save javascript */}\r\n                        <pre ref={this.javascript_ref} style={{ display: 'none' }}>\r\n\r\n                        </pre>\r\n                        {/* Used for save css */}\r\n                        <pre ref={this.css_ref} style={{ display: 'none' }}>\r\n                            {\r\n                                `\r\n        .element {\r\n            height: 140px;\r\n            width: 140px;\r\n            position: absolute;\r\n            left: 0;\r\n            top: 0;\r\n            margin: 0 auto;\r\n            border-radius: 50%;\r\n          }\r\n          \r\n          .element:before,\r\n          .element:after {\r\n            content: '';\r\n            display: block;\r\n            position: absolute;\r\n            border: 50%;\r\n            border: 1px solid #4DCC00;\r\n            left: -0px;\r\n            right: -0px;\r\n            top: -0px;\r\n            bottom: -0px;\r\n            border-radius: 50%;\r\n            opacity: 0;\r\n            backface-visibility: hidden;\r\n          }\r\n          \r\n          \r\n          .pulse .element:before,\r\n          .pulse .element:after {\r\n            animation: pulse 1.5s linear infinite;\r\n          }\r\n          \r\n          .pulse .element:after {\r\n            animation-duration: 0.5s;\r\n          }\r\n          \r\n          @keyframes pulse {\r\n            0% {\r\n              transform: scale(1.6);\r\n              opacity: 0;\r\n            }\r\n          \r\n            50% {\r\n              opacity: 1;\r\n            }\r\n          \r\n            100% {\r\n              transform: scale(1.2);\r\n              opacity: 0;\r\n            }\r\n          }\r\n          \r\n          .rotate {\r\n            animation: rotate 4s linear infinite;\r\n          }\r\n          \r\n          @keyframes rotate {\r\n            from {\r\n              transform: rotate(0deg);\r\n            }\r\n          \r\n            to {\r\n              transform: rotate(359deg);\r\n            }   \r\n          }\r\n            \r\n    `\r\n                            }\r\n                        </pre>\r\n\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default WidgetViewCallButton\r\n"],"sourceRoot":""}