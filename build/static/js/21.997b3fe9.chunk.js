(this["webpackJsonpmaster-lps"]=this["webpackJsonpmaster-lps"]||[]).push([[21],{729:function(e,t,a){"use strict";a.r(t);var l=a(700),n=a.n(l),o=a(701),r=a(127),i=a(180),s=a(706),c=a(67),m=a(68),p=a(70),u=a(69),d=a(1),g=a.n(d),h=a(14),f=a(44),b=(a(699),a(698),a(708)),E=(a(704),a(705),a(712)),v=a.n(E),x=(a(702),a(703),a(99)),_=a(71),y=a.n(_),C=a(710),w=a(416).default;String.prototype.deentitize=function(){var e=this.replace(/&gt;/g,">");return e=(e=(e=(e=e.replace(/&lt;/g,"<")).replace(/&quot;/g,"'")).replace(/&apos;/g,"'")).replace(/&amp;/g,"&")};var N={basic:{max_wizard:6},basic_plus:{max_wizard:9},coming_soon:{max_wizard:8}},k=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var l;return Object(c.a)(this,a),(l=t.call(this,e)).componentDidMount=function(){x.a.get("admin/widget/widgets").then((function(e){if(e&&e.data){e.data;l.widgetList=e.data;var t=l.widgetList.find((function(e){return"whatsapp"===e.title}));t&&("string"==typeof t.options&&(t.options=JSON.parse(t.options)),l.setState({whatsapp_title:t.options.whatsapp_title,whatsapp_popup_message:t.options.whatsapp_popup_message,whatsapp_position:t.options.whatsapp_position,phone_number:t.options.phone_number}),l.initWhatsapp())}})),l.pageId&&x.a.get("admin/page/pages?id=".concat(l.pageId)).then((function(e){l.setState({page:e.data[0],title:e.data[0].title,description:e.data[0].description,keywords:e.data[0].keywords,url:e.data[0].url,facebook_pixel:e.data[0].facebook_pixel,google_analytics:e.data[0].google_analytics})}))},l.state={page_type:e.history.location.pathname.split("/").slice(-1).pop(),url:""+(new Date).getTime(),title:"",description:"Description",keywords:"Keywords",facebook_pixel:"946061702198384",google_analytics:"",color:"#F36923",call_to_action:"2",middleText:"Input Text",middleFontFamily:"BlinkMacSystemFont",buttonFontFamily:"BlinkMacSystemFont",middleTextColor:"#000000",middleTextFontSize:20,bottomColor:"#000000",buttonTextSize:16,borderBottomStyle:"solid",borderBottomWidth:5,formBackground:"#ED6D04",nameText:"\u0627\u0644\u0631\u062c\u0627\u0621 \u0643\u062a\u0627\u0628\u0629 \u0627\u0644\u0627\u0633\u0645",emailText:"\u0627\u0644\u0631\u062c\u0627\u0621 \u0643\u062a\u0627\u0628\u0629 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641l",buttonBackground:"#0081B8",buttonColor:"#ffffff",submitButtonBackground:"http://masters-lps.com/api/storage/storage/1606788159723_btn2.png",buttonText:"",wizard_step:2,isLoading:!1,actionURL:"".concat(w,"contract_record/add-contract-record"),crop:{unit:"%",width:100,height:100},croppedImageUrl:null,src:null,imageList:[{marginTop:0,image_url:"http://masters-lps.com/api/storage/storage/1606411516123_basic.jpg",croppedImageUrl:"http://masters-lps.com/api/storage/storage/1606411516123_basic.jpg",crop:{unit:"%",width:100,height:100}}],callImage:"http://masters-lps.com/api/storage/storage/1606787142857_p2-b.png",callButtonImage:"http://masters-lps.com/api/storage/storage/1606787670565_phone.png",callPhone:"073-7958888",footerList:[],coming_soom_title:"We're Coming Soon",selected_widget:"facebook-chat",widgetMarginTop:0,widgetMarginBottom:0,widgetHTML:"",widgetJS:"",widgetCSS:"",widgetExternel:[]},l.imageList=[],l.footerList=[],l.imageList_cropper=[],l.blob_imageList=[],l.blob_footerList=[],l.widget_blob_list=[],l.pageId=e.match.params._id,l.lead_id=e.match.params._lead_id,l.ref=g.a.createRef(),l.widget_ref=g.a.createRef(),l.widgetList=[],l}return Object(m.a)(a,[{key:"addImage",value:function(e){var t="http://masters-lps.com/api/storage/storage/1606411516123_basic.jpg";"imageList"!==e&&(t="http://masters-lps.com/api/storage/storage/1606345081409_footer.png"),this.setState(Object(i.a)({},e,[].concat(Object(s.a)(this.state[e]),[{marginTop:0,image_url:t,croppedImageUrl:t,crop:{unit:"%",width:100,height:100}}])))}},{key:"removeImage",value:function(e,t){var a=Object(s.a)(this.state[e]);a.splice(t,1),this.setState(Object(i.a)({},e,a))}},{key:"onImageListChanged",value:function(e,t,a,l){var n=Object(s.a)(this.state[e]);n.splice(t,1,Object(r.a)(Object(r.a)({},this.state[e][t]),{},Object(i.a)({},l,a))),this.setState(Object(i.a)({},e,n))}},{key:"onImageCropComplete",value:function(){var e=Object(o.a)(n.a.mark((function e(t,a,l){var o,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((o=this[t][a])&&l.width&&l.height)){e.next=6;break}return e.next=4,this.getCroppedImg(t,a,o,l,"newFile.png");case 4:r=e.sent,this.onImageListChanged(t,a,r,"croppedImageUrl");case 6:case"end":return e.stop()}}),e,this)})));return function(t,a,l){return e.apply(this,arguments)}}()},{key:"readFile",value:function(e,t,a){var l=this,n=new FileReader;n.addEventListener("load",(function(){return l.onImageListChanged(e,t,n.result,"src")})),n.readAsDataURL(a.target.files[0])}},{key:"readActionImageFile",value:function(e,t){var a=this,l=new FileReader;this[t]=e.target.files[0],l.addEventListener("load",(function(){return a.setState(Object(i.a)({},t,l.result))})),l.readAsDataURL(e.target.files[0])}},{key:"initWhatsapp",value:function(){var e=window.$;console.error(e("#WAButton")),e("#WAButton").html(""),e("#WAButton").floatingWhatsApp({phone:this.state.phone_number,headerTitle:this.state.whatsapp_title,popupMessage:this.state.whatsapp_popup_message,showPopup:!0,buttonImage:'<img src="https://rawcdn.githack.com/rafaelbotazini/floating-whatsapp/3d18b26d5c7d430a1ab0b664f8ca6b69014aed68/whatsapp.svg" />',position:this.state.whatsapp_position})}},{key:"_save",value:function(){var e=Object(o.a)(n.a.mark((function e(){var t,a,l,o,r,i,s,c,m,p,u,d,g,h,f,b,E,v,_,y=this;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.isLoading=!0,!this.callImage){e.next=8;break}return(t=new FormData).append("file",this.callImage),e.next=6,x.a.post("".concat(w,"storage/upload"),t,{headers:{"Content-Type":"multipart/form-data"}});case 6:a=e.sent,this.setState({callImage:a.data[0].src});case 8:if(!this.callButtonImage){e.next=15;break}return(t=new FormData).append("file",this.callButtonImage),e.next=13,x.a.post("".concat(w,"storage/upload"),t,{headers:{"Content-Type":"multipart/form-data"}});case 13:l=e.sent,this.setState({callButtonImageRes:l.data[0].src});case 15:if(!this.widget_ref||!this.widget_ref.current){e.next=30;break}return o=this.widget_blob_list.map((function(e){var t=new FormData;return t.append("file",e.blob),x.a.post("".concat(w,"storage/upload"),t,{headers:{"Content-Type":"multipart/form-data"}})})),console.log("this.widget_blob_list",this.widget_blob_list),e.next=20,Promise.all(o);case 20:r=e.sent,i=0;case 22:if(!(i<r.length)){e.next=30;break}return s=r[i],console.log(s.data[0].src,this.widget_blob_list[i].column),e.next=27,this.widget_ref.current.updateState(s.data[0].src,this.widget_blob_list[i].column);case 27:i++,e.next=22;break;case 30:return c=this.blob_imageList.map((function(e){var t=new FormData;return t.append("file",e),x.a.post("".concat(w,"storage/upload"),t,{headers:{"Content-Type":"multipart/form-data"}})})),m=this.blob_footerList.map((function(e){var t=new FormData;return t.append("file",e),x.a.post("".concat(w,"storage/upload"),t,{headers:{"Content-Type":"multipart/form-data"}})})),e.next=34,Promise.all(c);case 34:return r=e.sent,this.blob_imageList=[],r.forEach((function(e,t){y.onImageListChanged("imageList",t,e.data[0].src,"croppedImageUrl")})),e.next=39,Promise.all(m);case 39:r=e.sent,this.blob_footerList=[],r.forEach((function(e,t){y.onImageListChanged("footerList",t,e.data[0].src,"croppedImageUrl")})),p=this.ref.current.innerHTML,u=this.state,d=u.url,g=u.title,h=u.page,f=u.description,b=u.keywords,E=this.state.widgetExternel,v=this.state.widgetCSS,_=this.state.widgetJS,p=p.deentitize(),_=_.deentitize(),v=v.deentitize(),x.a.post("admin/page/add-page",{id:h?h.id:null,url:d,html:p,css:v,js:_,title:g,description:f,keywords:b,lead_id:this.lead_id,facebook_pixel:this.state.facebook_pixel,google_analytics:this.state.google_analytics,externel_links:E}).then((function(e){y.props.history.push("/new-builder/".concat(e.data.id))})).catch((function(e){return console.error(e)}));case 51:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSave",value:function(){var e=Object(o.a)(n.a.mark((function e(){var t,a,l,o=this;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this.state.url&&0!==this.state.url.length){e.next=4;break}return y()({title:"Input page url",icon:"error",buttons:{confirm:{text:"OK",value:!0,visible:!0,className:"",closeModal:!0}}}),this.setState({wizard_step:2}),e.abrupt("return");case 4:t=this.state,a=t.url,l=t.page,x.a.post("admin/page/check-page-url",{id:l?l.id:null,url:a}).then((function(e){if(null==e.data.data)return o._save();y()({title:"Please input other url",icon:"error",buttons:{confirm:{text:"OK",value:!0,visible:!0,className:"",closeModal:!0}}}),o.setState({wizard_step:2})})).catch((function(e){y()({title:"Error occur, Please input other url",icon:"error",buttons:{confirm:{text:"OK",value:!0,visible:!0,className:"",closeModal:!0}}}),o.setState({wizard_step:2})}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"valueChange",value:function(e,t){this.setState(Object(i.a)({},t,e.target.value))}},{key:"getCroppedImg",value:function(e,t,a,l,n){var o=this,r=document.createElement("canvas");r.width=a.naturalWidth,r.height=a.naturalHeight;var i=a.naturalWidth/a.width,s=a.naturalHeight/a.height;return r.width=l.width,r.height=l.height,r.getContext("2d").drawImage(a,l.x*i,l.y*s,l.width*i,l.height*s,0,0,l.width,l.height),new Promise((function(a,l){r.toBlob((function(l){l?(l.name=n,window.URL.revokeObjectURL(o.fileUrl),o["blob_".concat(e)][t]=l,o.fileUrl=window.URL.createObjectURL(l),a(o.fileUrl)):console.error("Canvas is empty")}),"image/png")}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.middleText,l=t.middleTextColor,n=t.bottomColor,o=t.formBackground,r=t.wizard_step;this.widgetList.find((function(t){return t.title===e.state.selected_widget}));return g.a.createElement(g.a.Fragment,null,g.a.createElement(h.I,null,g.a.createElement(h.i,null,g.a.createElement("div",{className:"row"},g.a.createElement("div",{className:"col-4 border-right"},g.a.createElement("div",{className:"d-flex1 wizard"},1===this.state.wizard_step&&g.a.createElement(g.a.Fragment,null,g.a.createElement("h4",null,"Choose Landing Page Type"),g.a.createElement("div",{onChange:function(t){e.setState({page_type:t.target.value})}},g.a.createElement("div",{className:"form-check"},g.a.createElement("input",{className:"form-check-input",type:"radio",name:"exampleRadios",id:"r1",value:"basic",defaultChecked:"basic"===this.state.page_type}),g.a.createElement("label",{className:"form-check-label",htmlFor:"r1"},"Basic")),g.a.createElement("div",{className:"form-check"},g.a.createElement("input",{className:"form-check-input",type:"radio",name:"exampleRadios",id:"r2",value:"basic_plus",defaultChecked:"basic_plus"===this.state.page_type}),g.a.createElement("label",{className:"form-check-label",htmlFor:"r2"},"Basic Plus")),g.a.createElement("div",{className:"form-check"},g.a.createElement("input",{className:"form-check-input",type:"radio",name:"exampleRadios",id:"r3",value:"coming_soon",defaultChecked:"coming_soon"===this.state.page_type}),g.a.createElement("label",{className:"form-check-label",htmlFor:"r3"},"Coming Soon")))),2===this.state.wizard_step&&g.a.createElement(g.a.Fragment,null,g.a.createElement("h4",null,"Page Details"),g.a.createElement("div",{className:"form-group mt-3"},g.a.createElement("label",{className:"form-label",htmlFor:"exampleRadios2"},"Page Url"),g.a.createElement("input",{type:"text",value:this.state.url,className:"form-control",placeholder:"Url",onChange:function(t){return e.valueChange(t,"url")}})),g.a.createElement("div",{className:"form-group mt-3"},g.a.createElement("label",{className:"form-label",htmlFor:"exampleRadios2"},"Title"),g.a.createElement("input",{type:"text",value:this.state.title,className:"form-control",placeholder:"Title",onChange:function(t){return e.valueChange(t,"title")}})),g.a.createElement("div",{className:"form-group mt-31"},g.a.createElement("label",{className:"form-label",htmlFor:"exampleRadios2"},"Description"),g.a.createElement("input",{type:"text",value:this.state.description,className:"form-control",placeholder:"Description",onChange:function(t){return e.valueChange(t,"description")}})),g.a.createElement("div",{className:"form-group mt-31"},g.a.createElement("label",{className:"form-label",htmlFor:"exampleRadios2"},"Keywords"),g.a.createElement("input",{type:"text",value:this.state.keywords,className:"form-control",placeholder:"Keywords",onChange:function(t){return e.valueChange(t,"keywords")}})),g.a.createElement("div",{className:"form-group mt-31"},g.a.createElement("label",{className:"form-label",htmlFor:"exampleRadios2"},"FaceBook Pixel Code"),g.a.createElement("input",{type:"text",value:this.state.facebook_pixel,className:"form-control",placeholder:"Facebook pixel code",onChange:function(t){return e.valueChange(t,"facebook_pixel")}})),g.a.createElement("div",{className:"form-group mt-31"},g.a.createElement("label",{className:"form-label",htmlFor:"exampleRadios2"},"Google Analytics"),g.a.createElement("input",{type:"text",value:this.state.google_analytics,className:"form-control",placeholder:"Google Analytics",onChange:function(t){return e.valueChange(t,"google_analytics")}}))),3===this.state.wizard_step&&g.a.createElement(g.a.Fragment,null,g.a.createElement("h4",null,"Page Details"),this.state.imageList.map((function(t,a){return g.a.createElement("div",{key:a,className:"border mb-2 pl-1 pr-1"},g.a.createElement("div",{className:"form-group mt-3"},a>1&&g.a.createElement("button",{className:"btn btn-danger float-right btn-xs",onClick:function(){e.removeImage("imageList",a)}},"x"),g.a.createElement("label",{className:"form-label"},"Select image"),g.a.createElement("input",{id:"upload",className:"form-control-file",ref:"upload",type:"file",accept:"image/*",onChange:function(t){return e.readFile("imageList",a,t)},onClick:function(e){return e.target.value=null}})),t.src&&g.a.createElement(b.a,{src:t.src,viewMode:1,guides:!1,minCropBoxHeight:10,minCropBoxWidth:10,background:!1,responsive:!0,autoCropArea:1,checkOrientation:!1,onInitialized:function(t){e.imageList_cropper[a]=t},ready:function(){e.onImageListChanged("imageList",a,e.imageList_cropper[a].getCroppedCanvas().toDataURL(),"croppedImageUrl"),e.imageList_cropper[a].getCroppedCanvas().toBlob((function(t){return e["blob_".concat("imageList")][a]=t}))},cropend:function(){e.onImageListChanged("imageList",a,e.imageList_cropper[a].getCroppedCanvas().toDataURL(),"croppedImageUrl"),e.imageList_cropper[a].getCroppedCanvas().toBlob((function(t){return e["blob_".concat("imageList")][a]=t}))}}),("basic"===e.state.page_type||"basic_plus"===e.state.page_type)&&g.a.createElement("div",{className:"form-group mt-31"},g.a.createElement("label",{className:"form-label"},"Margin Top"),g.a.createElement("input",{type:"number",value:t.marginTop,className:"form-control",placeholder:"",onChange:function(t){e.onImageListChanged("imageList",a,t.target.value,"marginTop")}})))})),("basic_plus"===this.state.page_type||"coming_soon"===this.state.page_type)&&g.a.createElement("div",{className:"text-right"},g.a.createElement("button",{className:"btn",onClick:function(){e.addImage("imageList")}},"Add More"))),4===this.state.wizard_step&&g.a.createElement(g.a.Fragment,null,g.a.createElement("h4",null,"Call to Action"),g.a.createElement("div",{onChange:function(t){e.setState({call_to_action:t.target.value})}},g.a.createElement("div",{className:"form-check form-check-inline"},g.a.createElement("input",{className:"form-check-input",type:"radio",name:"callActionType",id:"rCall1",value:1,defaultChecked:"1"===this.state.call_to_action}),g.a.createElement("label",{className:"form-check-label",htmlFor:"rCall1"},"Text")),g.a.createElement("div",{className:"form-check form-check-inline"},g.a.createElement("input",{className:"form-check-input",type:"radio",name:"callActionType",id:"rCall2",value:2,defaultChecked:"2"===this.state.call_to_action}),g.a.createElement("label",{className:"form-check-label",htmlFor:"rCall2"},"Images"))),"1"===this.state.call_to_action&&g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{className:"form-group mt-31"},g.a.createElement("label",{className:"form-label",htmlFor:"exampleRadios2"},"Middle Text"),g.a.createElement("input",{type:"text",value:this.state.middleText,className:"form-control",placeholder:"Middle Text",onChange:function(t){return e.valueChange(t,"middleText")}})),g.a.createElement("div",{className:"form-group mt-31"},g.a.createElement("label",{className:"form-label",htmlFor:"exampleRadios2"},"Font Family"),g.a.createElement("select",{value:this.state.middleFontFamily,className:"form-control",onChange:function(t){return e.valueChange(t,"middleFontFamily")}},g.a.createElement("option",null,"fantasy"),g.a.createElement("option",null,"fangsong"),g.a.createElement("option",null,"monospace"),g.a.createElement("option",null,"sans-serif"),g.a.createElement("option",null,"ui-serif"))),g.a.createElement("div",{className:"form-group mt-31"},g.a.createElement("label",{className:"form-label",htmlFor:"exampleRadios2"},"Text Color"),g.a.createElement("input",{type:"color",value:this.state.middleTextColor,className:"form-control",placeholder:"",onChange:function(t){return e.valueChange(t,"middleTextColor")}})),g.a.createElement("div",{className:"form-group mt-31"},g.a.createElement("label",{className:"form-label",htmlFor:"exampleRadios2"},"Font Size"),g.a.createElement("input",{type:"number",value:this.state.middleTextFontSize,className:"form-control",placeholder:"",onChange:function(t){return e.valueChange(t,"middleTextFontSize")}})),g.a.createElement("div",{className:"form-group mt-31"},g.a.createElement("label",{className:"form-label",htmlFor:"exampleRadios2"},"Border Color"),g.a.createElement("input",{type:"color",value:this.state.bottomColor,onChange:function(t){return e.valueChange(t,"bottomColor")},className:"form-control",placeholder:""})),g.a.createElement("div",{className:"form-group mt-31"},g.a.createElement("label",{className:"form-label",htmlFor:"exampleRadios2"},"Border Style"),g.a.createElement("select",{value:this.state.borderBottomStyle,className:"form-control",onChange:function(t){return e.valueChange(t,"borderBottomStyle")}},g.a.createElement("option",null,"solid"),g.a.createElement("option",null,"dashed"),g.a.createElement("option",null,"dotted"),g.a.createElement("option",null,"double"),g.a.createElement("option",null,"groove"))),g.a.createElement("div",{className:"form-group mt-31"},g.a.createElement("label",{className:"form-label",htmlFor:"exampleRadios2"},"Border Height ",this.state.borderBottomWidth),g.a.createElement("input",{type:"number",value:this.state.borderBottomWidth,className:"form-control",onChange:function(t){return e.valueChange(t,"borderBottomWidth")}}))),"2"===this.state.call_to_action&&g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{className:"form-group mt-3"},g.a.createElement("label",{className:"form-label"},"Select image"),g.a.createElement("input",{id:"upload2",className:"form-control-file",ref:"upload2",type:"file",accept:"image/*",onChange:function(t){return e.readActionImageFile(t,"callImage")},onClick:function(e){return e.target.value=null}})))),5===this.state.wizard_step&&g.a.createElement(g.a.Fragment,null,g.a.createElement("h4",null,"Contract Form"),g.a.createElement("div",{className:"form-group mt-31"},g.a.createElement("label",{className:"form-label",htmlFor:"exampleRadios2"},"Name Text"),g.a.createElement("input",{type:"text",value:this.state.nameText,className:"form-control",placeholder:"Name Text",onChange:function(t){return e.valueChange(t,"nameText")}})),g.a.createElement("div",{className:"form-group mt-31"},g.a.createElement("label",{className:"form-label",htmlFor:"exampleRadios2"},"Email Text"),g.a.createElement("input",{type:"text",value:this.state.emailText,className:"form-control",placeholder:"Email Text",onChange:function(t){return e.valueChange(t,"emailText")}})),g.a.createElement("div",{className:"form-group mt-31"},g.a.createElement("label",{className:"form-label",htmlFor:"exampleRadios2"},"Form Background Color"),g.a.createElement("input",{type:"color",value:this.state.formBackground,className:"form-control",placeholder:"Email Text",onChange:function(t){return e.valueChange(t,"formBackground")}})),g.a.createElement("div",{className:"form-group mt-31"},g.a.createElement("label",{className:"form-label",htmlFor:"exampleRadios2"},"Button Text"),g.a.createElement("input",{type:"text",value:this.state.buttonText,className:"form-control",placeholder:"Email Text",onChange:function(t){return e.valueChange(t,"buttonText")}})),g.a.createElement("div",{className:"form-group mt-31"},g.a.createElement("label",{className:"form-label",htmlFor:"exampleRadios2"},"Button Text Color"),g.a.createElement("input",{type:"color",value:this.state.buttonColor,className:"form-control",placeholder:"Email Text",onChange:function(t){return e.valueChange(t,"buttonColor")}})),g.a.createElement("div",{className:"form-group mt-31"},g.a.createElement("label",{className:"form-label",htmlFor:"exampleRadios2"},"Button Background Image"),g.a.createElement("input",{type:"file",accept:"image/*",onChange:function(t){return e.readActionImageFile(t,"submitButtonBackground")},onClick:function(e){return e.target.value=null}})),g.a.createElement("div",{className:"form-group mt-31"},g.a.createElement("label",{className:"form-label",htmlFor:"exampleRadios2"},"Button Text Size"),g.a.createElement("input",{type:"number",value:this.state.buttonTextSize,className:"form-control",placeholder:"Email Text",onChange:function(t){return e.valueChange(t,"buttonTextSize")}})),g.a.createElement("div",{className:"form-group mt-31"},g.a.createElement("label",{className:"form-label",htmlFor:"exampleRadios2"},"Button Font Family"),g.a.createElement("select",{value:this.state.buttonFontFamily,className:"form-control",onChange:function(t){return e.valueChange(t,"buttonFontFamily")}},g.a.createElement("option",null,"fantasy"),g.a.createElement("option",null,"fangsong"),g.a.createElement("option",null,"monospace"),g.a.createElement("option",null,"sans-serif"),g.a.createElement("option",null,"ui-serif"))),g.a.createElement("div",{className:"form-group mt-31"},g.a.createElement("label",{className:"form-label",htmlFor:"exampleRadios2"},"Button Background Color"),g.a.createElement("input",{type:"color",value:this.state.buttonBackground,className:"form-control",placeholder:"Email Text",onChange:function(t){return e.valueChange(t,"buttonBackground")}})),g.a.createElement("div",{className:"form-group mt-31"},g.a.createElement("label",{className:"form-label",htmlFor:"exampleRadios2"},"Submit URL"),g.a.createElement("input",{type:"text",value:this.state.actionURL,className:"form-control",placeholder:"Submit url",onChange:function(t){return e.valueChange(t,"actionURL")}}))),6===this.state.wizard_step&&g.a.createElement(g.a.Fragment,null,g.a.createElement("h4",null,"LINK"),g.a.createElement("div",{className:"form-group mt-31"},g.a.createElement("label",{className:"form-label",htmlFor:"exampleRadios2"},"Phone Number"),g.a.createElement("input",{type:"text",value:this.state.callPhone,className:"form-control",placeholder:"Submit url",onChange:function(t){return e.valueChange(t,"callPhone")}}))),7===this.state.wizard_step&&g.a.createElement(g.a.Fragment,null,g.a.createElement("h4",null,"Footer"),this.state.footerList.map((function(t,a){return g.a.createElement("div",{key:a,className:"border mb-2 pl-1 pr-1"},g.a.createElement("div",{className:"form-group mt-3"},a>=0&&g.a.createElement("button",{className:"btn btn-danger float-right btn-xs",onClick:function(){e.removeImage("footerList",a)}},"x"),g.a.createElement("label",{className:"form-label"},"Select image"),g.a.createElement("input",{id:"upload",className:"form-control-file",ref:"upload",type:"file",accept:"image/*",onChange:function(t){return e.readFile("footerList",a,t)},onClick:function(e){return e.target.value=null}})),t.src&&g.a.createElement(v.a,{src:t.src,onImageLoaded:function(t){e.footerList[a]=t},crop:t.crop,ruleOfThirds:!0,onComplete:function(t){e.onImageCropComplete("footerList",a,t)},onChange:function(t){e.onImageListChanged("footerList",a,t,"crop")}}),g.a.createElement("div",{className:"form-group mt-31"},g.a.createElement("label",{className:"form-label"},"Margin Top"),g.a.createElement("input",{type:"number",value:t.marginTop,className:"form-control",placeholder:"",onChange:function(t){e.onImageListChanged("footerList",a,t.target.value,"marginTop")}})))})),"basic_plus"===this.state.page_type&&0===this.state.footerList.length&&g.a.createElement("div",{className:"text-right"},g.a.createElement("button",{className:"btn",onClick:function(){e.addImage("footerList")}},"Add Footer"))),g.a.createElement("div",{className:8===this.state.wizard_step?"":"hidden"},g.a.createElement("h4",null,"Widget"),g.a.createElement(C.a,{ref:this.widget_ref,updated:function(t){e.widget_blob_list=t.widget_blob_list,console.log("updated",t,e.widget_blob_list),e.setState({widgetHTML:t.html,widgetCSS:t.css,widgetJS:t.js,widgetExternel:t.externel_links})}})),this.state.wizard_step===N[this.state.page_type].max_wizard&&g.a.createElement(g.a.Fragment,null,g.a.createElement("h4",null,"Complete")),r>2&&g.a.createElement("button",{className:"btn btn-success mt-5 ",onClick:function(){e.setState({wizard_step:r-1})}},"Back"),this.state.wizard_step<N[this.state.page_type].max_wizard&&g.a.createElement("button",{className:"btn btn-primary mt-5 float-right",onClick:function(){e.setState({wizard_step:r+1})},disabled:2===this.state.wizard_step&&0===this.state.url.length},"Next"),this.state.wizard_step===N[this.state.page_type].max_wizard&&g.a.createElement(g.a.Fragment,null,g.a.createElement(h.d,{className:"mt-5 float-right",type:"submit",size:"sm",color:"primary",onClick:function(){e.onSave()}},g.a.createElement(f.a,{name:"cil-scrubber"})," Edit with HTML Builder",this.state.isLoading&&g.a.createElement("span",{className:"spinner-border spinner-border-sm ml-1",role:"status","aria-hidden":"true"}))))),g.a.createElement("div",{className:"col-8"},g.a.createElement("h4",{className:"text-center"},"Live Preview"),g.a.createElement("div",{className:"border",ref:this.ref},("basic"===this.state.page_type||"basic_plus"===this.state.page_type)&&g.a.createElement(g.a.Fragment,null,this.state.imageList.map((function(e,t){return g.a.createElement("div",{key:t},g.a.createElement("img",{style:{maxWidth:"900px",width:"100%",display:"block",margin:"auto",marginTop:e.marginTop+"px"},src:e.croppedImageUrl,alt:""}))})),"1"===this.state.call_to_action&&g.a.createElement("div",null,g.a.createElement("div",{style:{textAlign:"center",marginTop:"10px",fontSize:this.state.middleTextFontSize+"px",color:l,fontFamily:this.state.middleFontFamily}},a),g.a.createElement("div",{style:{height:"0px",borderBottomWidth:this.state.borderBottomWidth+"px",borderBottomStyle:this.state.borderBottomStyle,borderBottomColor:n,margin:"auto",margintop:"3px",width:"100%",maxWidth:"450px",borderRadius:"3px"}})),"2"===this.state.call_to_action&&g.a.createElement("div",null,g.a.createElement("img",{src:this.state.callImage,alt:"middle",style:{maxWidth:"480px",width:"100%",display:"block",margin:"auto",marginTop:"30px"}})),g.a.createElement("form",{method:"POST",action:this.state.actionURL,style:{maxWidth:"480px",margin:"auto",marginTop:"10px"}},g.a.createElement("div",{style:{background:o,padding:"20px",margin:"auto"}},g.a.createElement("div",null,g.a.createElement("input",{placeholder:this.state.nameText,name:"name",style:{width:"100%",textAlign:"center",height:"54px",border:"solid 1px #000000",padding:" 0px 8px"}})),g.a.createElement("div",null,g.a.createElement("input",{type:"email",placeholder:this.state.emailText,name:"email",style:{width:"100%",textAlign:"center",height:"54px",border:"solid 1px #000000",padding:"0px 8px",marginTop:"10px"}}))),g.a.createElement("div",{style:{}},g.a.createElement("button",{type:"submit",className:"vers-submit",style:{border:"none",display:"block",width:"100%",marginTop:"10px",height:"54px",background:this.state.buttonBackground,color:this.state.buttonColor,fontFamily:this.state.buttonFontFamily,fontSize:this.state.buttonTextSize+"px",backgroundImage:"url(".concat(this.state.submitButtonBackground,")"),backgroundPosition:"center",backgroundSize:"100% 100%"}},this.state.buttonText))),g.a.createElement("div",null,g.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.widgetHTML}})),this.state.footerList.map((function(e,t){return g.a.createElement("div",{key:t},g.a.createElement("img",{style:{maxWidth:"900px",width:"100%",display:"block",margin:"auto",marginTop:e.marginTop+"px"},src:e.croppedImageUrl,alt:""}))})))))))))}}]),a}(d.Component);t.default=k}}]);
//# sourceMappingURL=21.997b3fe9.chunk.js.map