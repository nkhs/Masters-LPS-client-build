{"version":3,"sources":["views/lead/LeadList.js"],"names":["LeadList","props","componentDidMount","Axios","get","then","r","setState","list","data","state","id","this","history","push","item","swal","title","text","icon","buttons","dangerMode","willDelete","delete","filter","page","className","map","date","moment","Date","createdAt","format","key","visit","color","size","variant","onClick","onView","Component"],"mappings":"sNAgBMA,E,kDACJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAKRC,kBAAoB,WAClBC,IAAMC,IAAI,oBAAoBC,MAAK,SAAAC,GACjC,EAAKC,SAAS,CAAEC,KAAMF,EAAEG,WAN1B,EAAKC,MAAQ,CACXF,KAAM,IAHS,E,mDAWZG,GACLC,KAAKX,MAAMY,QAAQC,KAAnB,4BAA6CH,M,+BAGtCI,GAAO,IAAD,OACbC,IAAK,CACHC,MAAO,gBACPC,KAAM,2DACNC,KAAM,UACNC,SAAS,EACTC,YAAY,IAEXhB,MAAK,SAAAiB,GACAA,GACFnB,IAAMoB,OAAN,0BAAgCR,EAAKJ,KAAMN,MAAK,SAAAC,GAAM,IAC9CE,EAAS,EAAKE,MAAdF,KACNA,EAAOA,EAAKgB,QAAO,SAAAC,GAAI,OAAIA,EAAKd,KAAOI,EAAKJ,MAC5C,EAAKJ,SAAS,CAAEC,KAAMA,Y,+BAMtB,IAAD,OACDA,EAASI,KAAKF,MAAdF,KACN,OACE,oCACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,kBAGA,kBAAC,IAAD,KAIE,2BAAOkB,UAAU,8CACf,2BAAOA,UAAU,eACf,4BACE,oCACA,wBAAIA,UAAU,eAAd,gBACA,wBAAIA,UAAU,cAAd,UAGJ,+BACGlB,EAAKmB,KAAI,SAAAF,GACR,IAAIG,EAAOC,EAAO,IAAIC,KAAKL,EAAKM,YAAYC,OAAO,gBACnD,OAAO,wBAAIC,IAAKR,EAAKd,IAEnB,4BACE,6BAAMc,EAAKR,OACX,yBAAKS,UAAU,oBACG,IAAfD,EAAKS,MAAc,oCAAE,0BAAMR,UAAU,gBAAhB,OAAF,OAAoD,KAD1E,aAC0FE,IAI5F,wBAAIF,UAAU,eAAeD,EAAKS,OAClC,wBAAIR,UAAU,cAEZ,kBAAC,IAAD,CAASS,MAAM,UAAUC,KAAK,KAAKV,UAAU,OAAOW,QAAQ,UAAUC,QAAS,kBAAM,EAAKC,OAAOd,EAAKd,MAAtG,wB,GAxEH6B,aA6FRxC","file":"static/js/26.11ec3743.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport {\n  CCard,\n  CButton,\n  CCardBody,\n  CCardHeader,\n  CCol,\n  CRow,\n} from '@coreui/react'\nimport swal from 'sweetalert';\n\n\nimport * as moment from 'moment'\nimport Axios from '../../lib/api';\n\n\nclass LeadList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: []\n    }\n  }\n  componentDidMount = () => {\n    Axios.get('admin/page/pages').then(r => {\n      this.setState({ list: r.data })\n    })\n  }\n  onView(id) {\n    this.props.history.push(`/admin/leads/view/${id}`);\n  }\n\n  onDelete(item) {\n    swal({\n      title: \"Are you sure?\",\n      text: \"Once deleted, you will not be able to recover this lead!\",\n      icon: \"warning\",\n      buttons: true,\n      dangerMode: true,\n    })\n      .then(willDelete => {\n        if (willDelete)\n          Axios.delete(`admin/lead/lead/${item.id}`).then(r => {\n            var { list } = this.state;\n            list = list.filter(page => page.id !== item.id);\n            this.setState({ list: list })\n          })\n      })\n\n  }\n\n  render() {\n    var { list } = this.state;\n    return (\n      <>\n        <CRow>\n          <CCol>\n            <CCard>\n              <CCardHeader>\n                Page List\n              </CCardHeader>\n              <CCardBody>\n\n                {/* <CButton type=\"submit\" size=\"sm\" color=\"warning\" onClick={() => { this.props.history.push('/admin/leads/new'); }}><CIcon name=\"cil-scrubber\" /> Add</CButton> */}\n\n                <table className=\"table table-outline mb-0 d-none d-sm-table\">\n                  <thead className=\"thead-light\">\n                    <tr>\n                      <th>Name</th>\n                      <th className=\"text-center\">Visit Number</th>\n                      <th className=\"text-right\">View</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {list.map(page => {\n                      var date = moment(new Date(page.createdAt)).format('DD MMMM YYYY')\n                      return <tr key={page.id}>\n\n                        <td>\n                          <div>{page.title}</div>\n                          <div className=\"small text-muted\">\n                            {page.visit === 0 ? <><span className=\"text-success\">New</span> | </> : null} Created: {date}\n                          </div>\n                        </td>\n\n                        <td className=\"text-center\">{page.visit}</td>\n                        <td className=\"text-right\">\n                          {/* <CButton color=\"primary\" size=\"sm\" className=\"\" variant=\"outline\" onClick={() => this.onVisit(page.id)}>Visit</CButton> */}\n                          <CButton color=\"success\" size=\"sm\" className=\"ml-1\" variant=\"outline\" onClick={() => this.onView(page.id)}>View</CButton>\n                          {/* <CButton color=\"primary\" size=\"sm\" className=\"ml-1\" variant=\"outline\" onClick={() => this.onEdit(page.id)}>Edit</CButton> */}\n                          {/* <CButton color=\"danger\" size=\"sm\" className=\"ml-1\" variant=\"outline\" onClick={() => this.onDelete(page)}>Delete</CButton> */}\n                          {/* <CButton color=\"info\" size=\"sm\" className=\"ml-1\" variant=\"outline\" onClick={() => this.onDuplicate(page)}>Duplicate</CButton> */}\n                        </td>\n                      </tr>\n\n                    })}\n\n                  </tbody>\n                </table>\n\n              </CCardBody>\n            </CCard>\n          </CCol>\n        </CRow>\n      </>\n    )\n  }\n}\n\nexport default LeadList\n"],"sourceRoot":""}