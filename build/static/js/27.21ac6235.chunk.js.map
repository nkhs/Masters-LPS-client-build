{"version":3,"sources":["views/lead/LeadView.js"],"names":["REACT_APP_BASE_URL","require","default","LeadView","props","componentDidMount","Axios","get","pageId","then","r","setState","page","data","host","replace","url","html","state","list","match","params","_id","this","history","goBack","e","title","target","value","className","type","size","color","onClick","onExport","name","onBack","map","date","moment","Date","createdAt","format","key","id","Email","phone_number","message","Component"],"mappings":"6NAyBMA,EAAqBC,EAAQ,KAAiBC,QAE9CC,E,kDACF,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IAKVC,kBAAoB,WAChBC,IAAMC,IAAN,8BAAiC,EAAKC,SAAUC,MAAK,SAAAC,GAEjD,EAAKC,SAAS,CAAEC,KAAMF,EAAEG,KAAK,KAC7B,IAAIC,EAAOd,EAAmBe,QAAQ,OAAQ,IAC9CT,IAAMC,IAAN,UAAaO,EAAb,aAAsBJ,EAAEG,KAAK,GAAGG,MAAOP,MAAK,SAAAC,GACxC,EAAKC,SAAS,CAAEM,KAAMP,EAAEG,cAThC,EAAKK,MAAQ,CAAED,KAAM,GAAIE,KAAM,GAAIP,KAAM,MACzC,EAAKJ,OAASJ,EAAMgB,MAAMC,OAAOC,IAJlB,E,qDAkBfC,KAAKnB,MAAMoB,QAAQC,W,oCAGTC,GACVH,KAAKZ,SAAS,CAAEgB,MAAO,SAAAD,GAAC,OAAIA,EAAEE,OAAOC,W,+BAE/B,IAAD,SACgBN,KAAKL,MAApBN,EADD,EACCA,KAAMO,EADP,EACOA,KACZ,OACI,oCACI,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,2BAAIP,GAAQA,EAAKe,OADrB,QAEI,yBAAKG,UAAU,uBACX,kBAAC,IAAD,CAASC,KAAK,SAASC,KAAK,KAAKC,MAAM,SAASC,QAAS,WAAQ,EAAKC,YAAcL,UAAU,QAAO,kBAAC,IAAD,CAAOM,KAAK,iBAAjH,WACA,kBAAC,IAAD,CAASL,KAAK,SAASC,KAAK,KAAKC,MAAM,UAAUC,QAAS,WAAQ,EAAKG,WAAY,kBAAC,IAAD,CAAOD,KAAK,iBAA/F,WAGR,kBAAC,IAAD,KAII,2BAAON,UAAU,8CACb,2BAAOA,UAAU,eACb,4BACI,oCACA,wBAAIA,UAAU,eAAd,SACA,wBAAIA,UAAU,eAAd,gBACA,wBAAIA,UAAU,eAAd,WACA,wBAAIA,UAAU,cAAd,UAIR,+BACKX,EAAKmB,KAAI,SAAA1B,GACN,IAAI2B,EAAOC,EAAO,IAAIC,KAAK7B,EAAK8B,YAAYC,OAAO,gBACnD,OAAO,wBAAIC,IAAKhC,EAAKiC,IAEjB,4BACI,6BAAMjC,EAAKwB,OAGf,wBAAIN,UAAU,eAAelB,EAAKkC,OAClC,wBAAIhB,UAAU,eAAelB,EAAKmC,cAClC,wBAAIjB,UAAU,eAAelB,EAAKoC,SAClC,wBAAIlB,UAAU,eAAeS,GAC7B,wBAAIT,UAAU,8B,GAnEvCmB,aAyFR9C","file":"static/js/27.21ac6235.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport {\r\n    // CBadge,\r\n    CButton,\r\n    // CButtonGroup,\r\n    CCard,\r\n    CCardBody,\r\n    // CCardFooter,\r\n    CCardHeader,\r\n    CCol,\r\n    // CProgress,\r\n    CRow,\r\n    // CCallout\r\n} from '@coreui/react'\r\nimport * as moment from 'moment'\r\n\r\nimport CIcon from '@coreui/icons-react'\r\nimport \"grapesjs/src/styles/scss/main.scss\";\r\nimport 'grapesjs/dist/css/grapes.min.css';\r\n\r\n\r\n// import grapesjs from 'grapesjs';\r\n// import { Editor } from 'grapesjs-react';\r\n\r\nimport Axios from '../../lib/api';\r\nconst REACT_APP_BASE_URL = require('../../lib/env').default;\r\n\r\nclass LeadView extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = { html: '', list: [], page: null }\r\n        this.pageId = props.match.params._id;\r\n    }\r\n    componentDidMount = () => {\r\n        Axios.get(`admin/page/pages?id=${this.pageId}`).then(r => {\r\n            // console.log(r)\r\n            this.setState({ page: r.data[0] })\r\n            var host = REACT_APP_BASE_URL.replace('api/', '');\r\n            Axios.get(`${host}p/${r.data[0].url}`).then(r => {\r\n                this.setState({ html: r.data });\r\n            })\r\n        })\r\n\r\n    }\r\n    onBack() {\r\n        this.props.history.goBack();\r\n    }\r\n\r\n    onTitleChange(e) {\r\n        this.setState({ title: e => e.target.value })\r\n    }\r\n    render() {\r\n        var { page, list } = this.state;\r\n        return (\r\n            <>\r\n                <CRow>\r\n                    <CCol>\r\n                        <CCard>\r\n                            <CCardHeader>\r\n                                <b>{page && page.title}</b> Lead\r\n                                <div className=\"card-header-actions\">\r\n                                    <CButton type=\"submit\" size=\"sm\" color=\"danger\" onClick={() => { this.onExport() }} className=\"mr-2\"><CIcon name=\"cil-scrubber\" /> Export</CButton>\r\n                                    <CButton type=\"submit\" size=\"sm\" color=\"primary\" onClick={() => { this.onBack() }}><CIcon name=\"cil-scrubber\" /> Back</CButton>\r\n                                </div>\r\n                            </CCardHeader>\r\n                            <CCardBody>\r\n\r\n                                {/* {page ? <div dangerouslySetInnerHTML={{ __html: html }}></div> : null} */}\r\n\r\n                                <table className=\"table table-outline mb-0 d-none d-sm-table\">\r\n                                    <thead className=\"thead-light\">\r\n                                        <tr>\r\n                                            <th>Name</th>\r\n                                            <th className=\"text-center\">Email</th>\r\n                                            <th className=\"text-center\">Phone Number</th>\r\n                                            <th className=\"text-center\">Message</th>\r\n                                            <th className=\"text-right\">Time</th>\r\n                                            {/* <th className=\"text-right\">View</th> */}\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        {list.map(page => {\r\n                                            var date = moment(new Date(page.createdAt)).format('DD MMMM YYYY')\r\n                                            return <tr key={page.id}>\r\n\r\n                                                <td>\r\n                                                    <div>{page.name}</div>\r\n                                                </td>\r\n\r\n                                                <td className=\"text-center\">{page.Email}</td>\r\n                                                <td className=\"text-center\">{page.phone_number}</td>\r\n                                                <td className=\"text-center\">{page.message}</td>\r\n                                                <td className=\"text-center\">{date}</td>\r\n                                                <td className=\"text-right\">\r\n                                                    {/* <CButton color=\"primary\" size=\"sm\" className=\"\" variant=\"outline\" onClick={() => this.onVisit(page.id)}>Visit</CButton> */}\r\n                                                    {/* <CButton color=\"success\" size=\"sm\" className=\"ml-1\" variant=\"outline\" onClick={() => this.onView(page.id)}>View</CButton> */}\r\n                                                    {/* <CButton color=\"primary\" size=\"sm\" className=\"ml-1\" variant=\"outline\" onClick={() => this.onEdit(page.id)}>Edit</CButton> */}\r\n                                                    {/* <CButton color=\"danger\" size=\"sm\" className=\"ml-1\" variant=\"outline\" onClick={() => this.onDelete(page)}>Delete</CButton> */}\r\n                                                    {/* <CButton color=\"info\" size=\"sm\" className=\"ml-1\" variant=\"outline\" onClick={() => this.onDuplicate(page)}>Duplicate</CButton> */}\r\n                                                </td>\r\n                                            </tr>\r\n\r\n                                        })}\r\n\r\n                                    </tbody>\r\n                                </table>\r\n                            </CCardBody>\r\n                        </CCard>\r\n                    </CCol>\r\n                </CRow>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default LeadView\r\n"],"sourceRoot":""}