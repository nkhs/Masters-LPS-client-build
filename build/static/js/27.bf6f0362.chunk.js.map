{"version":3,"sources":["lib/api.js","views/dashboard/Dashboard.js"],"names":["httpsAgent","require","Agent","rejectUnauthorized","Axios","axios","create","baseURL","process","timeout","Dashboard","lazy","props","componentDidMount","get","then","r","console","log","setState","list","data","state","id","this","history","push","item","swal","title","text","icon","buttons","dangerMode","willDelete","delete","filter","page","JSON","parse","stringify","post","e","type","size","color","onClick","name","className","map","date","moment","Date","createdAt","format","key","onView","onEdit","onDelete","onDuplicate","Component"],"mappings":"6KAAA,sBAEMA,EAAa,IADPC,EAAQ,KACSC,OAAM,CAAEC,oBAAoB,IAEnDC,EAAQC,IAAMC,OAAO,CACvBC,QAASC,gCACTR,WAAYA,EACZS,QAAS,MAGEL,O,8LCcTM,GAJkBC,gBAAK,kBAAM,wDACdA,gBAAK,kBAAM,wD,kDAI9B,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAKRC,kBAAoB,WAClBT,IAAMU,IAAI,iBAAiBC,MAAK,SAAAC,GAC9BC,QAAQC,IAAIF,GACZ,EAAKG,SAAS,CAAEC,KAAMJ,EAAEK,WAP1B,EAAKC,MAAQ,CACXF,KAAM,IAHS,E,mDAYZG,GACLC,KAAKZ,MAAMa,QAAQC,KAAnB,eAAgCH,M,6BAE3BA,GACLC,KAAKZ,MAAMa,QAAQC,KAAnB,eAAgCH,M,+BAEzBI,GAAO,IAAD,OACbC,IAAK,CACHC,MAAO,gBACPC,KAAM,2DACNC,KAAM,UACNC,SAAS,EACTC,YAAY,IAEXlB,MAAK,SAAAmB,GACAA,GACF9B,IAAM+B,OAAN,uBAA6BR,EAAKJ,KAAMR,MAAK,SAAAC,GAC3CC,QAAQC,IAAIF,GADoC,IAE1CI,EAAS,EAAKE,MAAdF,KACNA,EAAOA,EAAKgB,QAAO,SAAAC,GAAI,OAAIA,EAAKd,KAAOI,EAAKJ,MAC5C,EAAKJ,SAAS,CAAEC,KAAMA,Y,kCAKpBO,GAAO,IAAD,OAChB,WACEA,EAAOW,KAAKC,MAAMD,KAAKE,UAAUb,KACrBJ,GACZnB,IAAMqC,KAAK,mBAAoBd,GAAMZ,MAAK,SAAAC,GACxCC,QAAQC,IAAIF,GACZ,EAAKJ,MAAMa,QAAQC,KAAnB,eAAgCV,EAAEK,KAAKE,QAEzC,MAAOmB,GACPzB,QAAQC,IAAIwB,M,+BAGN,IAAD,OACDtB,EAASI,KAAKF,MAAdF,KACN,OACE,oCACE,kBAAC,KAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,kBAGA,kBAAC,IAAD,KAEE,kBAAC,IAAD,CAASuB,KAAK,SAASC,KAAK,KAAKC,MAAM,UAAUC,QAAS,WAAQ,EAAKlC,MAAMa,QAAQC,KAAK,SAAW,kBAAC,IAAD,CAAOqB,KAAK,iBAAjH,QAEA,6BAEA,2BAAOC,UAAU,0DACf,2BAAOA,UAAU,eACf,4BACE,oCACA,wBAAIA,UAAU,cAAd,UAGJ,+BACG5B,EAAK6B,KAAI,SAAAZ,GACR,IAAIa,EAAOC,EAAO,IAAIC,KAAKf,EAAKgB,YAAYC,OAAO,gBACnD,OAAO,wBAAIC,IAAKlB,EAAKd,IAEnB,4BACE,6BAAMc,EAAKR,OACX,yBAAKmB,UAAU,oBACb,qCADF,kBACkCE,IAIpC,wBAAIF,UAAU,cACZ,4BAAQA,UAAU,wBAAwBF,QAAS,kBAAM,EAAKU,OAAOnB,EAAKd,MAA1E,QACA,4BAAQyB,UAAU,wBAAwBF,QAAS,kBAAM,EAAKW,OAAOpB,EAAKd,MAA1E,QACA,4BAAQyB,UAAU,uBAAuBF,QAAS,kBAAM,EAAKY,SAASrB,KAAtE,UACA,4BAAQW,UAAU,qBAAqBF,QAAS,kBAAM,EAAKa,YAAYtB,KAAvE,6B,GAzFFuB,cA2GTlD","file":"static/js/27.bf6f0362.chunk.js","sourcesContent":["import axios from 'axios'\r\nvar https = require('https');\r\nconst httpsAgent = new https.Agent({ rejectUnauthorized: true });\r\n\r\nconst Axios = axios.create({\r\n    baseURL: process.env.REACT_APP_BASE_URL,\r\n    httpsAgent: httpsAgent,\r\n    timeout: 500*1000\r\n})\r\n\r\nexport default Axios","import React, { lazy, Component } from 'react'\nimport {\n  CBadge,\n  CButton,\n  CButtonGroup,\n  CCard,\n  CCardBody,\n  CCardFooter,\n  CCardHeader,\n  CCol,\n  CProgress,\n  CRow,\n  CCallout\n} from '@coreui/react'\nimport swal from 'sweetalert';\nimport CIcon from '@coreui/icons-react'\n\nimport * as moment from 'moment'\nimport Axios from '../../lib/api';\n\nconst WidgetsDropdown = lazy(() => import('../widgets/WidgetsDropdown.js'))\nconst WidgetsBrand = lazy(() => import('../widgets/WidgetsBrand.js'))\n\n\nclass Dashboard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: []\n    }\n  }\n  componentDidMount = () => {\n    Axios.get('utility/pages').then(r => {\n      console.log(r)\n      this.setState({ list: r.data })\n    })\n  }\n  onView(id) {\n    this.props.history.push(`view/${id}`);\n  }\n  onEdit(id) {\n    this.props.history.push(`edit/${id}`);\n  }\n  onDelete(item) {\n    swal({\n      title: \"Are you sure?\",\n      text: \"Once deleted, you will not be able to recover this page!\",\n      icon: \"warning\",\n      buttons: true,\n      dangerMode: true,\n    })\n      .then(willDelete => {\n        if (willDelete)\n          Axios.delete(`utility/page/${item.id}`).then(r => {\n            console.log(r)\n            var { list } = this.state;\n            list = list.filter(page => page.id !== item.id);\n            this.setState({ list: list })\n          })\n      })\n\n  }\n  onDuplicate(item) {\n    try {\n      item = JSON.parse(JSON.stringify(item))\n      delete item.id\n      Axios.post('utility/add-page', item).then(r => {\n        console.log(r)\n        this.props.history.push(`edit/${r.data.id}`);\n      })\n    } catch (e) {\n      console.log(e)\n    }\n  }\n  render() {\n    var { list } = this.state;\n    return (\n      <>\n        <CRow>\n          <CCol>\n            <CCard>\n              <CCardHeader>\n                Page List\n              </CCardHeader>\n              <CCardBody>\n\n                <CButton type=\"submit\" size=\"sm\" color=\"warning\" onClick={() => { this.props.history.push('new'); }}><CIcon name=\"cil-scrubber\" /> Add</CButton>\n\n                <br />\n\n                <table className=\"table table-hover table-outline mb-0 d-none d-sm-table\">\n                  <thead className=\"thead-light\">\n                    <tr>\n                      <th>Name</th>\n                      <th className=\"text-right\">View</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {list.map(page => {\n                      var date = moment(new Date(page.createdAt)).format('DD MMMM YYYY')\n                      return <tr key={page.id}>\n\n                        <td>\n                          <div>{page.title}</div>\n                          <div className=\"small text-muted\">\n                            <span>New</span> | Registered: {date}\n                          </div>\n                        </td>\n\n                        <td className=\"text-right\">\n                          <button className=\"small btn btn-success\" onClick={() => this.onView(page.id)}>View</button>\n                          <button className=\"small btn btn-primary\" onClick={() => this.onEdit(page.id)}>Edit</button>\n                          <button className=\"small btn btn-danger\" onClick={() => this.onDelete(page)}>Delete</button>\n                          <button className=\"small btn btn-info\" onClick={() => this.onDuplicate(page)}>Duplicate</button>\n                        </td>\n                      </tr>\n\n                    })}\n\n                  </tbody>\n                </table>\n\n              </CCardBody>\n            </CCard>\n          </CCol>\n        </CRow>\n      </>\n    )\n  }\n}\n\nexport default Dashboard\n"],"sourceRoot":""}