(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[41],{779:function(e,a,t){"use strict";t.r(a);var n=t(67),s=t(68),l=t(70),r=t(69),c=t(1),o=t.n(c),m=t(14),u=t(42),i=(t(708),t(709),t(100)),d=t(71),p=t.n(d),h=function(e){Object(l.a)(t,e);var a=Object(r.a)(t);function t(e){var s;Object(n.a)(this,t),(s=a.call(this,e)).componentDidMount=function(){s.user_id&&i.a.get("admin/users/".concat(s.user_id)).then((function(e){console.log(e.data.data[0]),delete e.data.data[0].password;var a=e.data.data[0];s.setState({first_name:a.first_name||"",last_name:a.last_name||"",company_name:a.company_name||"",email:a.email||""})}))},s.state={loading:!1,first_name:"",last_name:"",company_name:"",email:"",password:"",password2:""};var l=e.match.params._id;return parseInt(l)>0&&(s.user_id=l),console.log(s.user_id,e),s}return Object(s.a)(t,[{key:"onBack",value:function(){this.props.history.push("/dashboard")}},{key:"onFirstNameChange",value:function(e){this.setState({first_name:e.target.value})}},{key:"onLastNameChange",value:function(e){this.setState({last_name:e.target.value})}},{key:"onCompanyNameChange",value:function(e){this.setState({company_name:e.target.value})}},{key:"onEmailChange",value:function(e){this.setState({email:e.target.value})}},{key:"onPasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"onPassword2Change",value:function(e){this.setState({password2:e.target.value})}},{key:"onTapRegister",value:function(){var e=this;this.setState({loading:!0});var a=this.state,t="users/signup";this.user_id&&(t="users/user-info",a.id=this.user_id),i.a.post(t,a).then((function(t){console.log(t.data),p()({title:null==a.id?"Successfully created.":"Successfully updated.",icon:"success",buttons:{confirm:{text:"OK",value:!0,visible:!0,className:"",closeModal:!0}}}).then((function(){e.props.history.push("/admin/users/")})),e.setState({loading:!1})})).catch((function(a){console.log(a),e.setState({loading:!1})}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.loading;a.password,a.password2;return o.a.createElement(o.a.Fragment,null,o.a.createElement(m.vb,null,o.a.createElement(m.u,null,o.a.createElement(m.j,null,o.a.createElement(m.n,null,this.user_id?"Edit User":"New User"),o.a.createElement(m.k,null,o.a.createElement(m.w,null,o.a.createElement(m.vb,{className:"justify-content-center"},o.a.createElement(m.u,{md:"9",lg:"7",xl:"6"},o.a.createElement(m.j,{className:"mx-4"},o.a.createElement(m.k,{className:"p-4"},o.a.createElement(m.I,{className:"was-validated1"},o.a.createElement(m.U,{className:"mb-3"},o.a.createElement(m.W,null,o.a.createElement(m.X,null,"@")),o.a.createElement(m.R,{type:"text",placeholder:"First Name",value:this.state.first_name,onChange:function(a){return e.onFirstNameChange(a)}})),o.a.createElement(m.U,{className:"mb-3"},o.a.createElement(m.W,null,o.a.createElement(m.X,null,"@")),o.a.createElement(m.R,{type:"text",placeholder:"Last Name",value:this.state.last_name,onChange:function(a){return e.onLastNameChange(a)}})),o.a.createElement(m.U,{className:"mb-3"},o.a.createElement(m.W,null,o.a.createElement(m.X,null,"@")),o.a.createElement(m.R,{type:"text",placeholder:"Company Name",value:this.state.company_name,onChange:function(a){return e.onCompanyNameChange(a)}})),o.a.createElement(m.U,{className:"mb-3"},o.a.createElement(m.W,null,o.a.createElement(m.X,null,"@")),o.a.createElement(m.R,{type:"text",placeholder:"Email",autoComplete:"email",value:this.state.email,onChange:function(a){return e.onEmailChange(a)}})),o.a.createElement(m.U,{className:"mb-3"},o.a.createElement(m.W,null,o.a.createElement(m.X,null,o.a.createElement(u.a,{name:"cil-lock-locked"}))),o.a.createElement(m.R,{type:"password",placeholder:"Password",autoComplete:"new-password",value:this.state.password,onChange:function(a){return e.onPasswordChange(a)}})),o.a.createElement(m.U,{className:"mb-4"},o.a.createElement(m.W,null,o.a.createElement(m.X,null,o.a.createElement(u.a,{name:"cil-lock-locked"}))),o.a.createElement(m.R,{type:"password",placeholder:"Repeat password",autoComplete:"new-password",value:this.state.password2,onChange:function(a){return e.onPassword2Change(a)}})),o.a.createElement(m.f,{color:"success",block:!0,onClick:function(){e.onTapRegister()}},this.user_id?"Update Account":"Create Account",t&&o.a.createElement("span",{className:"spinner-border spinner-border-sm ml-1",role:"status","aria-hidden":"true"})))))))))))))}}]),t}(c.Component);a.default=h}}]);
//# sourceMappingURL=41.0b7ba12f.chunk.js.map