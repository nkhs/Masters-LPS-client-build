(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[42],{769:function(e,a,t){"use strict";t.r(a);var n=t(67),s=t(68),l=t(70),r=t(69),o=t(1),c=t.n(o),i=t(14),u=t(42),m=(t(714),t(715),t(100)),d=t(72),p=t.n(d),h=function(e){Object(l.a)(t,e);var a=Object(r.a)(t);function t(e){var s;Object(n.a)(this,t),(s=a.call(this,e)).componentDidMount=function(){s.user_id&&m.a.get("admin/users/".concat(s.user_id)).then((function(e){console.log(e),s.setState({page:e.data.data[0]})}))},s.state={loading:!1,email:"",password:"",password2:""};var l=e.match.params._id;return parseInt(l)>0&&(s.user_id=l),console.log(s.user_id),s}return Object(s.a)(t,[{key:"onBack",value:function(){this.props.history.push("/dashboard")}},{key:"onEmailChange",value:function(e){this.setState({email:e.target.value})}},{key:"onPasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"onPassword2Change",value:function(e){this.setState({password2:e.target.value})}},{key:"onTapRegister",value:function(){var e=this;this.setState({loading:!0});var a=this.state,t=a.email,n=a.password;m.a.post("users/signup",{email:t,password:n,password2:n}).then((function(a){console.log(a.data),p()({title:"Successfully created.",text:"Check your email",icon:"success",buttons:{confirm:{text:"OK",value:!0,visible:!0,className:"",closeModal:!0}}}).then((function(){e.props.history.push("/admin/users/")})),e.setState({loading:!1})})).catch((function(a){console.log(a),e.setState({loading:!1})}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.loading;a.password,a.password2;return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.vb,null,c.a.createElement(i.u,null,c.a.createElement(i.j,null,c.a.createElement(i.n,null,this.user_id?"Edit User":"New User"),c.a.createElement(i.k,null,c.a.createElement(i.w,null,c.a.createElement(i.vb,{className:"justify-content-center"},c.a.createElement(i.u,{md:"9",lg:"7",xl:"6"},c.a.createElement(i.j,{className:"mx-4"},c.a.createElement(i.k,{className:"p-4"},c.a.createElement(i.I,null,c.a.createElement(i.U,{className:"mb-3"},c.a.createElement(i.W,null,c.a.createElement(i.X,null,"@")),c.a.createElement(i.R,{type:"text",placeholder:"Email",autoComplete:"email",value:this.state.email,onChange:function(a){return e.onEmailChange(a)}})),c.a.createElement(i.U,{className:"mb-3"},c.a.createElement(i.W,null,c.a.createElement(i.X,null,c.a.createElement(u.a,{name:"cil-lock-locked"}))),c.a.createElement(i.R,{type:"password",placeholder:"Password",autoComplete:"new-password",value:this.state.password,onChange:function(a){return e.onPasswordChange(a)}})),c.a.createElement(i.U,{className:"mb-4"},c.a.createElement(i.W,null,c.a.createElement(i.X,null,c.a.createElement(u.a,{name:"cil-lock-locked"}))),c.a.createElement(i.R,{type:"password",placeholder:"Repeat password",autoComplete:"new-password",value:this.state.password2,onChange:function(a){return e.onPassword2Change(a)}})),c.a.createElement(i.f,{color:"success",block:!0,onClick:function(){e.onTapRegister()}},"Create Account",t&&c.a.createElement("span",{className:"spinner-border spinner-border-sm ml-1",role:"status","aria-hidden":"true"})))))))))))))}}]),t}(o.Component);a.default=h}}]);
//# sourceMappingURL=42.e431a0cc.chunk.js.map