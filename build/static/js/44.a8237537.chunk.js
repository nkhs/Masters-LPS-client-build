(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[44],{764:function(e,t,n){"use strict";n.r(t);var a=n(67),l=n(68),i=n(70),c=n(69),r=n(1),o=n.n(r),s=n(14),u=n(71),m=n.n(u),d=n(42),p=n(707),b=n(100),h=(Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,713))})),Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,712))})),function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var l;return Object(a.a)(this,n),(l=t.call(this,e)).componentDidMount=function(){b.a.get("admin/page/pages").then((function(e){console.log(e),l.setState({list:e.data})}))},l.state={list:[]},l}return Object(l.a)(n,[{key:"onView",value:function(e){this.props.history.push("/admin/view/".concat(e))}},{key:"onVisit",value:function(e){var t="http://masters-lps.com:3008/api/".replace("api/","");window.open("".concat(t,"public-pages/").concat(e),"_blank")}},{key:"onEdit",value:function(e){this.props.history.push("/admin/edit/".concat(e))}},{key:"onDelete",value:function(e){var t=this;m()({title:"Are you sure?",text:"Once deleted, you will not be able to recover this page!",icon:"warning",buttons:!0,dangerMode:!0}).then((function(n){n&&b.a.delete("admin/page/page/".concat(e.id)).then((function(n){console.log(n);var a=t.state.list;a=a.filter((function(t){return t.id!==e.id})),t.setState({list:a})}))}))}},{key:"onDuplicate",value:function(e){var t=this;try{delete(e=JSON.parse(JSON.stringify(e))).id,b.a.post("admin/add-page",e).then((function(e){console.log(e),t.props.history.push("/admin/edit/".concat(e.data.id))}))}catch(n){console.log(n)}}},{key:"render",value:function(){var e=this,t=this.state.list;return o.a.createElement(o.a.Fragment,null,o.a.createElement(s.vb,null,o.a.createElement(s.u,null,o.a.createElement(s.j,null,o.a.createElement(s.n,null,"Page List"),o.a.createElement(s.k,null,o.a.createElement(s.f,{type:"submit",size:"sm",color:"warning",onClick:function(){e.props.history.push("/admin/new")}},o.a.createElement(d.a,{name:"cil-scrubber"})," Add"),o.a.createElement("br",null),o.a.createElement("table",{className:"table table-hover table-outline mb-0 d-none d-sm-table"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",null,o.a.createElement("th",null,"Name"),o.a.createElement("th",{className:"text-right"},"View"))),o.a.createElement("tbody",null,t.map((function(t){var n=p(new Date(t.createdAt)).format("DD MMMM YYYY");return o.a.createElement("tr",{key:t.id},o.a.createElement("td",null,o.a.createElement("div",null,t.title),o.a.createElement("div",{className:"small text-muted"},o.a.createElement("span",null,"New")," | Registered: ",n)),o.a.createElement("td",{className:"text-right"},o.a.createElement("button",{className:"small btn btn-primary",onClick:function(){return e.onVisit(t.id)}},"Visit"),o.a.createElement("button",{className:"small btn btn-success",onClick:function(){return e.onView(t.id)}},"View"),o.a.createElement("button",{className:"small btn btn-primary",onClick:function(){return e.onEdit(t.id)}},"Edit"),o.a.createElement("button",{className:"small btn btn-danger",onClick:function(){return e.onDelete(t)}},"Delete"),o.a.createElement("button",{className:"small btn btn-info",onClick:function(){return e.onDuplicate(t)}},"Duplicate")))})))))))))}}]),n}(r.Component));t.default=h}}]);
//# sourceMappingURL=44.a8237537.chunk.js.map