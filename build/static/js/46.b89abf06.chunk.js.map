{"version":3,"sources":["views/pages/login/Login.js"],"names":["Login","props","state","loading","email","password","e","this","setState","target","value","Axios","post","login_id","then","r","user","data","localStorage","setItem","JSON","stringify","role","history","push","catch","console","log","className","md","name","type","placeholder","autoComplete","onChange","onEmailChange","onPasswordChange","xs","color","onClick","onTapLogin","aria-hidden","style","width","Component"],"mappings":"iQAoBMA,E,kDACJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CACXC,SAAS,EACTC,MAAO,GACPC,SAAU,IALK,E,0DAQLC,GACZC,KAAKC,SAAS,CAAEJ,MAAOE,EAAEG,OAAOC,U,uCAEjBJ,GACfC,KAAKC,SAAS,CAAEH,SAAUC,EAAEG,OAAOC,U,mCAEvB,IAAD,OAGXH,KAAKC,SAAS,CAAEL,SAAS,IAHd,MAIeI,KAAKL,MAAzBE,EAJK,EAILA,MAAOC,EAJF,EAIEA,SACbM,IAAMC,KAAK,eAAgB,CAAEC,SAAUT,EAAOC,SAAUA,IAAYS,MAAK,SAAAC,GACvE,EAAKP,SAAS,CAAEL,SAAS,IAEzB,IAAIa,EAAOD,EAAEE,KAAKD,KAClBE,aAAaC,QAAQ,eAAgBJ,EAAEE,KAAK,eAC5CC,aAAaC,QAAQ,OAAQC,KAAKC,UAAUL,KAC1B,GAAdA,EAAKM,KACP,EAAKrB,MAAMsB,QAAQC,KAAK,UACrB,EAAKvB,MAAMsB,QAAQC,KAAK,QAE5BC,OAAM,SAAAnB,GACLoB,QAAQC,IAAIrB,GACZ,EAAKE,SAAS,CAAEL,SAAS,S,+BAGrB,IAAD,OACDA,EAAYI,KAAKL,MAAjBC,QACN,OACE,yBAAKyB,UAAU,sDACb,kBAAC,IAAD,KACE,kBAAC,KAAD,CAAMA,UAAU,0BACd,kBAAC,IAAD,CAAMC,GAAG,KACP,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOD,UAAU,OACf,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,qCACA,uBAAGA,UAAU,cAAb,2BACA,kBAAC,IAAD,CAAaA,UAAU,QACrB,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOE,KAAK,eAGhB,kBAAC,IAAD,CAAQC,KAAK,OAAOC,YAAY,WAAWC,aAAa,WAAWvB,MAAOH,KAAKL,MAAME,MAAO8B,SAAU,SAAC5B,GAAD,OAAO,EAAK6B,cAAc7B,OAElI,kBAAC,IAAD,CAAasB,UAAU,QACrB,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOE,KAAK,sBAGhB,kBAAC,IAAD,CAAQC,KAAK,WAAWC,YAAY,WAAWC,aAAa,mBAAmBvB,MAAOH,KAAKL,MAAMG,SAAU6B,SAAU,SAAC5B,GAAD,OAAO,EAAK8B,iBAAiB9B,OAEpJ,kBAAC,KAAD,KACE,kBAAC,IAAD,CAAM+B,GAAG,KACP,kBAAC,IAAD,CAASC,MAAM,UAAUV,UAAU,OAAOW,QAAS,WAAQ,EAAKC,eAAhE,QACCrC,GAAW,0BAAMyB,UAAU,wCAAwCN,KAAK,SAASmB,cAAY,WAGhG,kBAAC,IAAD,CAAMJ,GAAG,IAAIT,UAAU,cACrB,kBAAC,IAAD,CAASU,MAAM,OAAOV,UAAU,OAAOW,QAAS,WAAQ,EAAKtC,MAAMsB,QAAQC,KAAK,aAAhF,yBAMV,kBAAC,IAAD,CAAOI,UAAU,4CAA4Cc,MAAO,CAAEC,MAAO,QAC3E,kBAAC,IAAD,CAAWf,UAAU,eACnB,6BACE,gDACA,uK,GAjFFgB,aAiGL5C","file":"static/js/46.b89abf06.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardGroup,\n  CCol,\n  CContainer,\n  CForm,\n  CInput,\n  CInputGroup,\n  CInputGroupPrepend,\n  CInputGroupText,\n  CRow\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\n\nimport Axios from '../../../lib/api';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      email: '',\n      password: ''\n    }\n  }\n  onEmailChange(e) {\n    this.setState({ email: e.target.value })\n  }\n  onPasswordChange(e) {\n    this.setState({ password: e.target.value })\n  }\n  onTapLogin() {\n\n\n    this.setState({ loading: true })\n    var { email, password } = this.state;\n    Axios.post('users/signin', { login_id: email, password: password }).then(r => {\n      this.setState({ loading: false })\n\n      var user = r.data.user;\n      localStorage.setItem(\"sample_token\", r.data['auth-token']);\n      localStorage.setItem(\"user\", JSON.stringify(user));\n      if (user.role == -1)\n        this.props.history.push(\"/admin\")\n      else this.props.history.push(\"/\")\n    })\n      .catch(e => {\n        console.log(e)\n        this.setState({ loading: false })\n      })\n  }\n  render() {\n    var { loading } = this.state;\n    return (\n      <div className=\"c-app c-default-layout flex-row align-items-center\">\n        <CContainer>\n          <CRow className=\"justify-content-center\">\n            <CCol md=\"8\">\n              <CCardGroup>\n                <CCard className=\"p-4\">\n                  <CCardBody>\n                    <CForm>\n                      <h1>Login</h1>\n                      <p className=\"text-muted\">Sign In to your account</p>\n                      <CInputGroup className=\"mb-3\">\n                        <CInputGroupPrepend>\n                          <CInputGroupText>\n                            <CIcon name=\"cil-user\" />\n                          </CInputGroupText>\n                        </CInputGroupPrepend>\n                        <CInput type=\"text\" placeholder=\"Username\" autoComplete=\"username\" value={this.state.email} onChange={(e) => this.onEmailChange(e)} />\n                      </CInputGroup>\n                      <CInputGroup className=\"mb-4\">\n                        <CInputGroupPrepend>\n                          <CInputGroupText>\n                            <CIcon name=\"cil-lock-locked\" />\n                          </CInputGroupText>\n                        </CInputGroupPrepend>\n                        <CInput type=\"password\" placeholder=\"Password\" autoComplete=\"current-password\" value={this.state.password} onChange={(e) => this.onPasswordChange(e)} />\n                      </CInputGroup>\n                      <CRow>\n                        <CCol xs=\"6\">\n                          <CButton color=\"primary\" className=\"px-4\" onClick={() => { this.onTapLogin(); }}>Login\n                          {loading && <span className=\"spinner-border spinner-border-sm ml-1\" role=\"status\" aria-hidden=\"true\"></span>}\n                          </CButton>\n                        </CCol>\n                        <CCol xs=\"6\" className=\"text-right\">\n                          <CButton color=\"link\" className=\"px-0\" onClick={() => { this.props.history.push(\"/forgot\") }}>Forgot password?</CButton>\n                        </CCol>\n                      </CRow>\n                    </CForm>\n                  </CCardBody>\n                </CCard>\n                <CCard className=\"text-white bg-primary py-5 d-md-down-none\" style={{ width: '44%' }}>\n                  <CCardBody className=\"text-center\">\n                    <div>\n                      <h2>Thanks for visit</h2>\n                      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut\n                      labore et dolore magna aliqua.</p>\n                      {/* <Link to=\"/register\">\n                        <CButton color=\"primary\" className=\"mt-3\" active tabIndex={-1}>Register Now!</CButton>\n                      </Link> */}\n                    </div>\n                  </CCardBody>\n                </CCard>\n              </CCardGroup>\n            </CCol>\n          </CRow>\n        </CContainer>\n      </div>\n    )\n  }\n}\nexport default Login\n"],"sourceRoot":""}