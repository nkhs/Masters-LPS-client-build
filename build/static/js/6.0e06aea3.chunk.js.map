{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","views/admin/widgets/WidgetView.js"],"names":["module","exports","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","_arrayLikeToArray","arr","len","length","i","arr2","Array","_toConsumableArray","isArray","iter","Symbol","iterator","Object","from","o","minLen","n","prototype","toString","call","slice","constructor","name","test","TypeError","REACT_APP_BASE_URL","require","default","CONFIG","max_wizard","WidgetView","props","componentDidMount","initWhatsapp","pageId","Axios","get","r","setState","page","data","title","state","page_type","history","location","pathname","split","pop","phone_number","color","call_to_action","middleText","middleFontFamily","buttonFontFamily","middleTextColor","middleTextFontSize","bottomColor","buttonTextSize","borderBottomStyle","borderBottomWidth","formBackground","nameText","emailText","buttonBackground","buttonColor","submitButtonBackground","buttonText","wizard_step","isLoading","actionURL","whatsapp_title","whatsapp_popup_message","whatsapp_position","crop","unit","width","height","croppedImageUrl","src","imageList","marginTop","image_url","callImage","callButtonImage","callPhone","footerList","imageList_cropper","blob_imageList","blob_footerList","match","params","_id","lead_id","_lead_id","ref","React","createRef","listName","defaultImage","index","array","splice","column","clonedArray","imageRef","getCroppedImg","onImageListChanged","event","reader","FileReader","addEventListener","result","readAsDataURL","target","files","$","window","html","floatingWhatsApp","phone","headerTitle","popupMessage","showPopup","buttonImage","position","formData","FormData","append","post","headers","callImageRes","callButtonImageRes","promise1","map","b","promise2","all","forEach","current","innerHTML","url","id","css","console","log","push","catch","e","_save","image","fileName","canvas","document","createElement","naturalWidth","naturalHeight","scaleX","scaleY","getContext","drawImage","x","y","toBlob","blob","URL","revokeObjectURL","fileUrl","createObjectURL","className","onChange","type","defaultChecked","htmlFor","placeholder","valueChange","onClick","disabled","size","onSave","role","aria-hidden","style","minHeight","maxWidth","textAlign","margin","href","top","left","enableBackground","version","viewBox","space","xmlns","xlink","fill","d","fillRule","clipRule","Component"],"mappings":"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","file":"static/js/6.0e06aea3.chunk.js","sourcesContent":["module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { Component } from 'react'\r\nimport {\r\n    CCol,\r\n    CRow\r\n} from '@coreui/react'\r\n\r\nimport {\r\n    CButton,\r\n\r\n} from '@coreui/react'\r\n\r\nimport CIcon from '@coreui/icons-react'\r\nimport \"grapesjs/src/styles/scss/main.scss\";\r\nimport 'grapesjs/dist/css/grapes.min.css';\r\nimport \"cropperjs/dist/cropper.css\";\r\n\r\nimport 'react-image-crop/dist/ReactCrop.css';\r\nimport 'react-image-crop/lib/ReactCrop.scss';\r\nimport Axios from '../../../lib/api';\r\nimport swal from 'sweetalert';\r\n// import './ss.css'\r\n// import $ from 'jquery'\r\nconst REACT_APP_BASE_URL = require('../../../lib/env').default;\r\n\r\nvar CONFIG = {\r\n    'whatsapp': {\r\n        max_wizard: 2\r\n    },\r\n    'call button': {\r\n        max_wizard: 2\r\n    },\r\n    'coming_soon': {\r\n        max_wizard: 8\r\n    },\r\n\r\n}\r\nvar IMAGE_LIST = 'imageList';\r\nvar FOOTER_LIST = 'footerList';\r\n\r\nclass WidgetView extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            page_type: props.history.location.pathname.split('/').slice(-1).pop(),\r\n            phone_number: '4418642583168',\r\n            title: '',\r\n\r\n            color: '#F36923',\r\n            call_to_action: '2',\r\n            middleText: 'Input Text',\r\n            middleFontFamily: 'BlinkMacSystemFont',\r\n            buttonFontFamily: 'BlinkMacSystemFont',\r\n            middleTextColor: '#000000',\r\n            middleTextFontSize: 20,\r\n            bottomColor: '#000000',\r\n            buttonTextSize: 16,\r\n            borderBottomStyle: 'solid',\r\n            borderBottomWidth: 5,\r\n            formBackground: '#ED6D04',\r\n            nameText: 'الرجاء كتابة الاسم',\r\n            emailText: 'الرجاء كتابة رقم الهاتفl',\r\n            buttonBackground: '#0081B8',\r\n            buttonColor: '#ffffff',\r\n            submitButtonBackground: 'http://masters-lps.com/api/storage/storage/1606788159723_btn2.png',\r\n            buttonText: '',\r\n            wizard_step: 2,\r\n            isLoading: false,\r\n            actionURL: `${REACT_APP_BASE_URL}contract_record/add-contract-record`,\r\n            whatsapp_title: 'Chat with us on WhatsApp!',\r\n            whatsapp_popup_message: 'Hello, how can we help you?',\r\n            whatsapp_position: 'right',\r\n            crop: {\r\n                unit: '%', // default, can be 'px' or '%'\r\n                width: 100,\r\n                height: 100\r\n            },\r\n            croppedImageUrl: null,\r\n            src: null,\r\n            imageList: [\r\n                {\r\n                    marginTop: 0,\r\n                    image_url: 'http://masters-lps.com/api/storage/storage/1606411516123_basic.jpg',\r\n                    croppedImageUrl: 'http://masters-lps.com/api/storage/storage/1606411516123_basic.jpg',\r\n                    crop: {\r\n                        unit: '%', // default, can be 'px' or '%'\r\n                        width: 100,\r\n                        height: 100\r\n                    }\r\n                }\r\n            ],\r\n            callImage: 'http://masters-lps.com/api/storage/storage/1606787142857_p2-b.png',\r\n            callButtonImage: 'https://camo.githubusercontent.com/a7adc13f08aa0ffc347db141a7c6b17e5ca99972f393cc5d24ece4b185135168/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f2d57686174736170702d3443413134333f7374796c653d666c6174737175617265266c6162656c436f6c6f723d344341313433266c6f676f3d7768617473617070266c6f676f436f6c6f723d7768697465266c696e6b3d68747470733a2f2f6170692e77686174736170702e636f6d2f73656e643f70686f6e653d38363138363432353833313638',\r\n            callPhone: '073-7958888',\r\n            footerList: [],\r\n        }\r\n        this.imageList = [];//ref list\r\n        this.footerList = [];//ref list\r\n\r\n        this.imageList_cropper = [];\r\n        this.blob_imageList = [];\r\n        this.blob_footerList = [];\r\n\r\n\r\n        this.pageId = props.match.params._id;\r\n        this.lead_id = props.match.params._lead_id;\r\n        this.ref = React.createRef();\r\n    }\r\n\r\n    addImage(listName) {\r\n        var defaultImage = 'http://masters-lps.com/api/storage/storage/1606411516123_basic.jpg';\r\n        if (listName !== 'imageList') defaultImage = 'http://masters-lps.com/api/storage/storage/1606345081409_footer.png'\r\n        this.setState({\r\n            [listName]: [...this.state[listName], {\r\n                marginTop: 0,\r\n                image_url: defaultImage,\r\n                croppedImageUrl: defaultImage,\r\n                crop: {\r\n                    unit: '%', // default, can be 'px' or '%'\r\n                    width: 100,\r\n                    height: 100\r\n                },\r\n            }]\r\n        })\r\n    }\r\n\r\n    removeImage(listName, index) {\r\n        var array = [...this.state[listName]]; // make a separate copy of the array\r\n        array.splice(index, 1);\r\n        this.setState({ [listName]: array });\r\n    }\r\n\r\n    onImageListChanged(listName, index, value, column) {\r\n        const clonedArray = [...this.state[listName]];\r\n        clonedArray.splice(index, 1, {\r\n            ...this.state[listName][index],\r\n            [column]: value\r\n        })\r\n        this.setState({ [listName]: clonedArray })\r\n    }\r\n\r\n    async onImageCropComplete(listName, index, crop) {\r\n\r\n        var imageRef = this[listName][index];\r\n\r\n        if (imageRef && crop.width && crop.height) {\r\n            const croppedImageUrl = await this.getCroppedImg(\r\n                listName,\r\n                index,\r\n                imageRef,\r\n                crop,\r\n                'newFile.png'\r\n            );\r\n            this.onImageListChanged(listName, index, croppedImageUrl, 'croppedImageUrl');\r\n        }\r\n    }\r\n\r\n    readFile(listName, index, event) {\r\n        const reader = new FileReader();\r\n        reader.addEventListener('load', () => this.onImageListChanged(listName, index, reader.result, 'src'));\r\n        reader.readAsDataURL(event.target.files[0]);\r\n    }\r\n\r\n    readActionImageFile(event, column) {\r\n        const reader = new FileReader();\r\n        this[column] = event.target.files[0]\r\n        reader.addEventListener('load', () => this.setState({ [column]: reader.result }));\r\n        reader.readAsDataURL(event.target.files[0]);\r\n    }\r\n\r\n    initWhatsapp() {\r\n        var $ = window.$;\r\n        $('#WAButton').html('')\r\n        $('#WAButton').floatingWhatsApp({\r\n            phone: this.state.phone_number, //WhatsApp Business phone number International format-\r\n            //Get it with Toky at https://toky.co/en/features/whatsapp.\r\n            headerTitle: this.state.whatsapp_title, //Popup Title\r\n            popupMessage: this.state.whatsapp_popup_message, //Popup Message\r\n            showPopup: true, //Enables popup display\r\n            buttonImage: '<img src=\"https://rawcdn.githack.com/rafaelbotazini/floating-whatsapp/3d18b26d5c7d430a1ab0b664f8ca6b69014aed68/whatsapp.svg\" />', //Button Image\r\n            //headerColor: 'crimson', //Custom header color\r\n            //backgroundColor: 'crimson', //Custom background button color\r\n            position: this.state.whatsapp_position\r\n        });\r\n    }\r\n    componentDidMount = () => {\r\n        this.initWhatsapp();\r\n\r\n        if (this.pageId)\r\n            Axios.get(`admin/page/pages?id=${this.pageId}`).then(r => {\r\n                this.setState({ page: r.data[0], title: r.data[0].title })\r\n                // this.editor.setComponents(r.data[0].html)\r\n                // this.editor.setStyle(r.data[0].css)\r\n            })\r\n\r\n        // Axios.get('storage/storage-list').then(r => {\r\n        //     const am = this.editor.AssetManager;\r\n        //     am.add(r.data);\r\n        // })\r\n    }\r\n\r\n    async _save() {\r\n\r\n        this.state.isLoading = true;\r\n        if (this.callImage) {\r\n            var formData = new FormData();\r\n\r\n            formData.append(\"file\", this.callImage);\r\n            var callImageRes = await Axios.post(`${REACT_APP_BASE_URL}storage/upload`, formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            });\r\n            this.setState({ callImage: callImageRes.data[0].src });\r\n        }\r\n        if (this.callButtonImage) {\r\n            formData = new FormData();\r\n\r\n            formData.append(\"file\", this.callButtonImage);\r\n            var callButtonImageRes = await Axios.post(`${REACT_APP_BASE_URL}storage/upload`, formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            });\r\n            this.setState({ callButtonImageRes: callButtonImageRes.data[0].src });\r\n        }\r\n\r\n\r\n        var promise1 = this.blob_imageList.map(b => {\r\n            var formData = new FormData();\r\n\r\n            formData.append(\"file\", b);\r\n            return Axios.post(`${REACT_APP_BASE_URL}storage/upload`, formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            })\r\n        })\r\n\r\n\r\n        var promise2 = this.blob_footerList.map(b => {\r\n            var formData = new FormData();\r\n\r\n            formData.append(\"file\", b);\r\n            return Axios.post(`${REACT_APP_BASE_URL}storage/upload`, formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            })\r\n        })\r\n\r\n        var r = await Promise.all(promise1);\r\n        this.blob_imageList = [];\r\n        r.forEach((r, index) => {\r\n            this.onImageListChanged(IMAGE_LIST, index, r.data[0].src, 'croppedImageUrl');\r\n        });\r\n\r\n        r = await Promise.all(promise2);\r\n        this.blob_footerList = [];\r\n        r.forEach((r, index) => {\r\n            this.onImageListChanged(FOOTER_LIST, index, r.data[0].src, 'croppedImageUrl');\r\n        });\r\n\r\n        var html = this.ref.current.innerHTML;\r\n\r\n        var { url, title, page } = this.state;\r\n\r\n        Axios.post('admin/page/add-page', { id: page ? page.id : null, url: url, html: html, css: '', title: title })\r\n            .then(r => {\r\n                console.log(r)\r\n                // this.props.history.goBack();\r\n                this.props.history.push(`/new-builder/${r.data.id}`)\r\n            })\r\n            .catch(e => console.error(e))\r\n    }\r\n\r\n    async onSave() {\r\n        this._save();\r\n    }\r\n\r\n    valueChange(e, column) {\r\n        this.setState({ [column]: e.target.value })\r\n    }\r\n\r\n    getCroppedImg(listName, index, image, crop, fileName) {\r\n        const canvas = document.createElement('canvas');\r\n        canvas.width = image.naturalWidth;\r\n        canvas.height = image.naturalHeight;\r\n\r\n        const scaleX = image.naturalWidth / image.width;\r\n        const scaleY = image.naturalHeight / image.height;\r\n        canvas.width = crop.width;\r\n        canvas.height = crop.height;\r\n        const ctx = canvas.getContext('2d');\r\n\r\n        ctx.drawImage(\r\n            image,\r\n            crop.x * scaleX,\r\n            crop.y * scaleY,\r\n            crop.width * scaleX,\r\n            crop.height * scaleY,\r\n            0,\r\n            0,\r\n            crop.width,\r\n            crop.height\r\n        );\r\n\r\n        return new Promise((resolve, reject) => {\r\n            canvas.toBlob(blob => {\r\n                if (!blob) {\r\n                    //reject(new Error('Canvas is empty'));\r\n                    console.error('Canvas is empty');\r\n                    return;\r\n                }\r\n                blob.name = fileName;\r\n                window.URL.revokeObjectURL(this.fileUrl);\r\n                this[`blob_${listName}`][index] = blob;\r\n                this.fileUrl = window.URL.createObjectURL(blob);\r\n                resolve(this.fileUrl);\r\n            }, 'image/png');\r\n        });\r\n    }\r\n\r\n    render() {\r\n        var { wizard_step } = this.state;\r\n\r\n        return (\r\n            <>\r\n                <CRow>\r\n                    <CCol>\r\n                        {/* <CCard> */}\r\n\r\n\r\n                        <div className=\"row\">\r\n                            <div className='col-4 border-right'>\r\n                                <div className=\"d-flex1 wizard\">\r\n                                    {this.state.wizard_step === 1 && <>\r\n\r\n                                        <h4>Choose Landing Page Type</h4>\r\n                                        <div onChange={(event) => { this.setState({ page_type: event.target.value }) }} >\r\n                                            <div className=\"form-check\">\r\n                                                <input className=\"form-check-input\" type=\"radio\" name=\"exampleRadios\" id=\"r1\" value='basic' defaultChecked={this.state.page_type === 'basic'} />\r\n                                                <label className=\"form-check-label\" htmlFor=\"r1\">Basic</label>\r\n                                            </div>\r\n                                            <div className=\"form-check\">\r\n                                                <input className=\"form-check-input\" type=\"radio\" name=\"exampleRadios\" id=\"r2\" value='basic_plus' defaultChecked={this.state.page_type === 'basic_plus'} />\r\n                                                <label className=\"form-check-label\" htmlFor=\"r2\">Basic Plus</label>\r\n                                            </div>\r\n                                            <div className=\"form-check\">\r\n                                                <input className=\"form-check-input\" type=\"radio\" name=\"exampleRadios\" id=\"r3\" value='coming_soon' defaultChecked={this.state.page_type === 'coming_soon'} />\r\n                                                <label className=\"form-check-label\" htmlFor=\"r3\">Coming Soon</label>\r\n                                            </div>\r\n                                        </div>\r\n                                    </>\r\n\r\n                                    }\r\n                                    {this.state.wizard_step === 2 && <>\r\n\r\n                                        <h4>Widget Setting</h4>\r\n                                        <div className=\"form-group mt-3\">\r\n                                            <label className=\"form-label\" htmlFor=\"exampleRadios2\">Phone Number</label>\r\n                                            <input type=\"text\" value={this.state.phone_number} className=\"form-control\" placeholder=\"phone number\" onChange={(e) => {\r\n                                                this.valueChange(e, 'phone_number');\r\n                                                this.initWhatsapp();\r\n                                            }} />\r\n                                        </div>\r\n                                        <div className=\"form-group mt-3\">\r\n                                            <label className=\"form-label\" htmlFor=\"exampleRadios2\">Title</label>\r\n                                            <input type=\"text\" value={this.state.whatsapp_title} className=\"form-control\" placeholder=\"Title\" onChange={(e) => {\r\n                                                this.valueChange(e, 'whatsapp_title');\r\n                                                this.initWhatsapp();\r\n                                            }} />\r\n                                        </div>\r\n                                        <div className=\"form-group mt-3\">\r\n                                            <label className=\"form-label\" htmlFor=\"exampleRadios2\">Title</label>\r\n                                            <input type=\"text\" value={this.state.whatsapp_popup_message} className=\"form-control\" placeholder=\"Title\" onChange={(e) => {\r\n                                                this.valueChange(e, 'whatsapp_popup_message');\r\n                                                this.initWhatsapp();\r\n                                            }} />\r\n                                        </div>\r\n                                        <div className=\"form-group mt-31\">\r\n                                            <label className=\"form-label\" htmlFor=\"exampleRadios2\">Font Family</label>\r\n                                            <select value={this.state.whatsapp_position} className=\"form-control\" onChange={(e) => {\r\n                                                this.valueChange(e, 'whatsapp_position');\r\n                                                this.initWhatsapp();\r\n                                            }}>\r\n                                                <option value=\"left\">Left</option>\r\n                                                <option value=\"right\">Right</option>\r\n                                            </select>\r\n                                        </div>\r\n                                    </>\r\n                                    }\r\n                                    {/* {this.state.wizard_step === CONFIG[this.state.page_type].max_wizard && <>\r\n                                        <h4>Complete</h4>\r\n                                    </>\r\n                                    } */}\r\n\r\n                                    {wizard_step > 2 && <button className={'btn btn-success mt-5 '} onClick={() => { this.setState({ wizard_step: wizard_step - 1 }) }}>Back</button>}\r\n                                    {this.state.wizard_step < CONFIG[this.state.page_type].max_wizard && <button className=\"btn btn-primary mt-5 float-right\" onClick={() => {\r\n                                        this.setState({ wizard_step: wizard_step + 1 })\r\n                                    }}\r\n                                        disabled={this.state.wizard_step === 2}>Next</button>}\r\n\r\n                                    {this.state.wizard_step === CONFIG[this.state.page_type].max_wizard &&\r\n                                        <>\r\n                                            <CButton className=\"mt-5 float-right\" type=\"submit\" size=\"sm\" color=\"primary\" onClick={() => { this.onSave() }}><CIcon name=\"cil-scrubber\" /> Save\r\n                                            {this.state.isLoading && <span className=\"spinner-border spinner-border-sm ml-1\" role=\"status\" aria-hidden=\"true\"></span>}</CButton>\r\n\r\n                                        </>\r\n                                    }\r\n\r\n                                </div>\r\n                            </div>\r\n                            <div className='col-8'>\r\n                                <h4 className=\"text-center\">Live Preview</h4>\r\n                                <div className=\"border pb-5\" ref={this.ref}>\r\n                                    {(this.state.page_type === 'whatsapp') && <>\r\n                                        {/* <div className=\"phone-no-images\" style={{ width: '100%', maxWidth: '480px', textAlign: 'center', margin: 'auto', marginTop: '20px' }}>\r\n                                            <a href={'tel:' + this.state.phone_number}>\r\n                                                <img style={{ maxWidth: '71%', display: 'inline-block' }} src={this.state.callButtonImage} className=\"img-fluid\" alt=\"\" />\r\n                                            </a>\r\n                                        </div> */}\r\n                                        <div style={{ minHeight: '300px' }}>\r\n                                            <div id=\"WAButton\" style={{ position: 'absolute' }}></div>\r\n                                        </div>\r\n                                    </>}\r\n                                    {(this.state.page_type === 'call button') && <>\r\n                                        <div className=\"phone-no-images\" style={{ width: '100%', maxWidth: '480px', textAlign: 'center', margin: 'auto', marginTop: '20px' }}>\r\n                                            <a href={'tel:' + this.state.phone_number}>\r\n                                                <div style={{ position: 'relative', height: '140px' }}>\r\n                                                    <svg style={{ position: 'absolute', top: '0px', left: '0px' }} enableBackground=\"new 0 0 140 140\" height=\"140px\" id=\"Layer_1\" version=\"1.1\" viewBox=\"0 0 40 40\" width=\"140px\" space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xlink=\"http://www.w3.org/1999/xlink\">\r\n                                                        <g>\r\n                                                            <g>\r\n                                                                <g>\r\n                                                                    <g>\r\n                                                                        <path fill=\"#4DCC00\" d=\"M20,2c9.925,0,18,8.075,18,18s-8.075,18-18,18c-9.925,0-18-8.075-18-18S10.075,2,20,2 M20,0 C8.955,0,0,8.954,0,20c0,11.047,8.955,20,20,20c11.047,0,20-8.953,20-20C40,8.954,31.047,0,20,0L20,0z\" />\r\n                                                                    </g>\r\n                                                                </g>\r\n                                                            </g>\r\n                                                            <path fill=\"#4DCC00\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M14.371,9.793c1.207-0.228,1.998,1.133,2.6,2.072   c0.586,0.912,1.307,1.982,1.016,3.169c-0.162,0.666-0.764,1.029-1.219,1.422c-0.449,0.388-1.133,0.744-1.299,1.34   c-0.271,0.967,0.322,1.982,0.689,2.56c0.834,1.306,1.842,2.483,3.129,3.534c0.623,0.51,1.488,1.191,2.355,1.016   c1.295-0.262,1.637-1.859,3.047-2.072c1.342-0.203,2.25,0.77,3.008,1.422c0.73,0.631,1.908,1.439,1.828,2.52   c-0.047,0.621-0.545,1.006-0.977,1.381c-0.439,0.383-0.824,0.813-1.258,1.096c-1.051,0.686-2.34,1.022-3.82,0.976   c-1.451-0.045-2.607-0.538-3.656-1.097c-2.051-1.094-3.672-2.633-5.199-4.348c-1.502-1.686-2.889-3.682-3.656-5.889   c-0.957-2.756-0.451-5.587,1.098-7.353c0.262-0.3,0.676-0.613,1.055-0.935C13.49,10.284,13.84,9.893,14.371,9.793z\" />\r\n                                                        </g>\r\n                                                    </svg>\r\n                                                    <div className=\"element\"></div>\r\n                                                </div>\r\n                                            </a>\r\n                                        </div>\r\n                                    </>}\r\n                                </div>\r\n\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                    </CCol>\r\n                </CRow>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default WidgetView\r\n"],"sourceRoot":""}