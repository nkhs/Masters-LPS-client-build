(this["webpackJsonpmaster-lps"]=this["webpackJsonpmaster-lps"]||[]).push([[9],{700:function(t,e,a){t.exports=a(417)},701:function(t,e,a){"use strict";function n(t,e,a,n,s,i,r){try{var o=t[i](r),p=o.value}catch(l){return void a(l)}o.done?e(p):Promise.resolve(p).then(n,s)}function s(t){return function(){var e=this,a=arguments;return new Promise((function(s,i){var r=t.apply(e,a);function o(t){n(r,s,i,o,p,"next",t)}function p(t){n(r,s,i,o,p,"throw",t)}o(void 0)}))}}a.d(e,"a",(function(){return s}))},722:function(t,e,a){},736:function(t,e,a){"use strict";a.r(e);var n=a(180),s=a(700),i=a.n(s),r=a(701),o=a(127),p=a(67),l=a(68),c=a(70),h=a(69),m=a(1),u=a.n(m),d=a(14),f=a(44),g=(a(699),a(698),a(99)),b=(a(722),{whatsapp:{max_wizard:2},"call button":{max_wizard:2},coming_soon:{max_wizard:8}}),w=['<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"><\/script>','<link rel="stylesheet" href="https://rawcdn.githack.com/rafaelbotazini/floating-whatsapp/3d18b26d5c7d430a1ab0b664f8ca6b69014aed68/floating-wpp.min.css">','<script type="text/javascript" src="https://rawcdn.githack.com/rafaelbotazini/floating-whatsapp/3d18b26d5c7d430a1ab0b664f8ca6b69014aed68/floating-wpp.min.js"><\/script>'],v=function(t){Object(c.a)(a,t);var e=Object(h.a)(a);function a(t){var n;return Object(p.a)(this,a),(n=e.call(this,t)).componentDidMount=function(){n.initWhatsapp(),g.a.get("admin/widget/widgets?title=".concat(n.state.title)).then((function(t){if(t&&t.data&&t.data[0]){var e=t.data[0];"string"===typeof e.options&&(e.options=JSON.parse(e.options));var a=JSON.parse(JSON.stringify(e.options));delete e.options,delete a.isLoading,n.setState(Object(o.a)(Object(o.a)(Object(o.a)({},e),a),{},{externel_links:w})),n.initWhatsapp()}}))},n.state={phone_number:"4418642583168",title:t.history.location.pathname.split("/").slice(-1).pop(),wizard_step:2,isLoading:!1,whatsapp_title:"Chat with us on WhatsApp!",whatsapp_popup_message:"Hello, how can we help you?",whatsapp_position:"right"},n.ref=u.a.createRef(),n.javascript_ref=u.a.createRef(),n}return Object(l.a)(a,[{key:"initWhatsapp",value:function(){var t=window.$;t("#WAButton").html(""),t("#WAButton").floatingWhatsApp({phone:this.state.phone_number,headerTitle:this.state.whatsapp_title,popupMessage:this.state.whatsapp_popup_message,showPopup:!0,buttonImage:'<img src="https://rawcdn.githack.com/rafaelbotazini/floating-whatsapp/3d18b26d5c7d430a1ab0b664f8ca6b69014aed68/whatsapp.svg" />',position:this.state.whatsapp_position})}},{key:"_save",value:function(){var t=Object(r.a)(i.a.mark((function t(){var e,a,n=this;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.setState({isLoading:!0}),e=this.ref.current.innerHTML,a=(a=(a=this.javascript_ref.current.innerHTML).replace("&lt;","<")).replace("/&gt;","/>"),g.a.post("admin/widget/add-widget",{title:this.state.title,html:e,css:"",js:a,externel_links:w,options:this.state}).then((function(t){console.log(t),n.props.history.goBack()})).catch((function(t){return console.error(t)}));case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"onSave",value:function(){var t=Object(r.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._save();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"valueChange",value:function(t,e){this.setState(Object(n.a)({},e,t.target.value))}},{key:"render",value:function(){var t=this,e=this.state.wizard_step;return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-4 border-right"},u.a.createElement("div",{className:"d-flex1 wizard"},2===this.state.wizard_step&&u.a.createElement(u.a.Fragment,null,u.a.createElement("h4",null,"Whatsapp"),u.a.createElement("div",{className:"form-group mt-3"},u.a.createElement("label",{className:"form-label",htmlFor:"exampleRadios2"},"Phone Number"),u.a.createElement("input",{type:"text",value:this.state.phone_number,className:"form-control",placeholder:"phone number",onChange:function(e){t.valueChange(e,"phone_number"),t.initWhatsapp()}})),u.a.createElement("div",{className:"form-group mt-3"},u.a.createElement("label",{className:"form-label",htmlFor:"exampleRadios2"},"Title"),u.a.createElement("input",{type:"text",value:this.state.whatsapp_title,className:"form-control",placeholder:"Title",onChange:function(e){t.valueChange(e,"whatsapp_title"),t.initWhatsapp()}})),u.a.createElement("div",{className:"form-group mt-3"},u.a.createElement("label",{className:"form-label",htmlFor:"exampleRadios2"},"Popup Message"),u.a.createElement("input",{type:"text",value:this.state.whatsapp_popup_message,className:"form-control",placeholder:"Title",onChange:function(e){t.valueChange(e,"whatsapp_popup_message"),t.initWhatsapp()}})),u.a.createElement("div",{className:"form-group mt-31"},u.a.createElement("label",{className:"form-label",htmlFor:"exampleRadios2"},"Position"),u.a.createElement("select",{value:this.state.whatsapp_position,className:"form-control",onChange:function(e){t.valueChange(e,"whatsapp_position"),t.initWhatsapp()}},u.a.createElement("option",{value:"left"},"Left"),u.a.createElement("option",{value:"right"},"Right")))),this.state.wizard_step<b[this.state.title].max_wizard&&u.a.createElement("button",{className:"btn btn-primary mt-5 float-right",onClick:function(){t.setState({wizard_step:e+1})},disabled:2===this.state.wizard_step},"Next"),this.state.wizard_step===b[this.state.title].max_wizard&&u.a.createElement(u.a.Fragment,null,u.a.createElement(d.d,{className:"mt-5 float-right",type:"submit",size:"sm",color:"primary",onClick:function(){t.onSave()}},u.a.createElement(f.a,{name:"cil-scrubber"}),"Save",this.state.isLoading&&u.a.createElement("span",{className:"spinner-border spinner-border-sm ml-1",role:"status","aria-hidden":"true"}))))),u.a.createElement("div",{className:"col-8"},u.a.createElement("h4",{className:"text-center"},"Live Preview"),u.a.createElement("div",{className:"border pb-5",ref:this.ref,style:{minHeight:"300px"}},u.a.createElement("div",{id:"WAButton"})),u.a.createElement("pre",{ref:this.javascript_ref,style:{display:"none"}},"\n                                    $('#WAButton').html('')\n                                    $('#WAButton').floatingWhatsApp({\n                                        phone: \"".concat(this.state.phone_number,'",\n                                        headerTitle: "').concat(this.state.whatsapp_title,'",\n                                        popupMessage: "').concat(this.state.whatsapp_popup_message,"\",\n                                        showPopup: true,\n                                        buttonImage: '<img src=\"https://rawcdn.githack.com/rafaelbotazini/floating-whatsapp/3d18b26d5c7d430a1ab0b664f8ca6b69014aed68/whatsapp.svg\" />',\n                                        //headerColor: 'crimson', //Custom header color\n                                        //backgroundColor: 'crimson', //Custom background button color\n                                        position: \"").concat(this.state.whatsapp_position,'"\n                                    });\n                                    ')))))}}]),a}(m.Component);e.default=v}}]);
//# sourceMappingURL=9.084f7824.chunk.js.map